<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />

  <title>–ü–æ–¥–±—Ä–æ—Å—å –º–æ–Ω–µ—Ç–∫—É ‚Äî —Ä–∞–Ω–¥–æ–º–∞–π–∑–µ—Ä —Ä–µ—à–µ–Ω–∏–π</title>
  <meta name="description" content="ü™ô –ù–µ –º–æ–∂–µ—à—å —Ä–µ—à–∏—Ç—å? –ü–æ–¥–±—Ä–æ—Å—å –º–æ–Ω–µ—Ç–∫—É! –ë–∏–Ω–∞—Ä–Ω—ã–π —Ä–∞–Ω–¥–æ–º–∞–π–∑–µ—Ä –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π.">
  <meta name="robots" content="index,follow">
  
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Bangers&family=Kalam:wght@400;700&family=Caveat:wght@600;700&family=Permanent+Marker&display=swap" rel="stylesheet">

  <link rel="icon" href="https://cdn-icons-png.flaticon.com/512/2830/2830284.png" type="image/png">

  <meta name="theme-color" content="#ffffff">

  <style>
 * { 
  margin: 0; 
  padding: 0; 
  box-sizing: border-box; 
  -webkit-tap-highlight-color: transparent;
}

:root {
  --safe-top: env(safe-area-inset-top, 0px);
  --safe-right: env(safe-area-inset-right, 0px);
  --safe-bottom: env(safe-area-inset-bottom, 0px);
  --safe-left: env(safe-area-inset-left, 0px);
  
  --white: #fcfcfc;
  --black: #232323;
  --gray-light: #f3f3f3;
  --gray-medium: #c7c7c7;
  --gray-dark: #777777;
}

body {
  min-height: 100vh;
  background:
    radial-gradient(circle at 0 0, rgba(0,0,0,0.04), transparent 55%),
    radial-gradient(circle at 100% 100%, rgba(0,0,0,0.04), transparent 55%),
    var(--white);
  font-family: 'Permanent Marker', 'Bangers', cursive;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: calc(80px + var(--safe-top)) var(--safe-right) calc(20px + var(--safe-bottom)) var(--safe-left);
  position: relative;
  overflow-x: hidden;
  color: var(--black);
}

body::before {
  content: '';
  position: fixed;
  inset: 0;
  background-image: 
    repeating-linear-gradient(
      0deg,
      transparent,
      transparent 27px,
      rgba(0,0,0,0.04) 27px,
      rgba(0,0,0,0.04) 28px
    ),
    repeating-linear-gradient(
      90deg,
      transparent,
      transparent 27px,
      rgba(0,0,0,0.025) 27px,
      rgba(0,0,0,0.025) 28px
    );
  mix-blend-mode: multiply;
  pointer-events: none;
  z-index: 1;
}

.home-button {
  position: fixed;
  top: calc(20px + var(--safe-top));
  left: calc(20px + var(--safe-left));
  z-index: 1000;
  padding: 10px 22px;
  background: var(--white);
  color: var(--black);
  text-decoration: none;
  font-family: 'Bangers', cursive;
  font-size: 20px;
  border-radius: 12px;
  border: 2px solid var(--black);
  box-shadow:
    0 0 0 1px rgba(0,0,0,0.5),
    3px 3px 0 rgba(0,0,0,0.5);
  transition: transform 0.15s ease, box-shadow 0.15s ease;
  letter-spacing: 1px;
  text-transform: uppercase;
  transform: rotate(-2deg);
  background-image:
    repeating-linear-gradient(
      -45deg,
      rgba(0,0,0,0.08) 0 1px,
      transparent 1px 3px
    );
}

.home-button:hover {
  transform: rotate(-2deg) translate(-2px, -2px);
  box-shadow:
    0 0 0 1px rgba(0,0,0,0.6),
    5px 5px 0 rgba(0,0,0,0.6);
}

.home-button:active {
  transform: rotate(-2deg) translate(2px, 2px);
  box-shadow:
    0 0 0 1px rgba(0,0,0,0.6),
    1px 1px 0 rgba(0,0,0,0.6);
}

.container {
  position: relative;
  z-index: 2;
  width: 100%;
  max-width: 1100px;
  background: var(--white);
  padding: 40px 30px;
  border-radius: 20px;
  border: 2px solid var(--black);
  box-shadow:
    0 0 0 1px rgba(0,0,0,0.7),
    6px 6px 0 rgba(0,0,0,0.7);
  transform: rotate(-0.8deg);
  background-image:
    repeating-linear-gradient(
      -45deg,
      rgba(0,0,0,0.03) 0 2px,
      transparent 2px 4px
    );
  overflow: hidden;
}

.container::before {
  content: '';
  position: absolute;
  inset: 6px;
  border-radius: 16px;
  border: 2px dashed rgba(0,0,0,0.3);
  transform: rotate(0.8deg);
  pointer-events: none;
}

h1 {
  font-family: 'Bangers', cursive;
  font-size: clamp(32px, 8vw, 52px);
  color: var(--black);
  text-align: center;
  margin-bottom: 30px;
  font-weight: normal;
  letter-spacing: 2px;
  position: relative;
  text-shadow:
    0 0 1px rgba(0,0,0,0.8),
    -1px 1px 0 rgba(255,255,255,0.5);
  transform: rotate(-1deg);
  grid-column: 1 / -1;
}

.main-layout {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 30px;
  align-items: start;
}

.settings-column {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

/* –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: –º–æ–Ω–µ—Ç–∫–∞ */
.coin-column {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 400px;
  gap: 30px;
  perspective: 1000px;
  margin-top: -5%;
}

/* 3D –ú–æ–Ω–µ—Ç–∫–∞ */
.coin-container {
  width: 200px;
  height: 200px;
  position: relative;
  transform-style: preserve-3d;
  transition: transform 0.1s ease;
  transform: translateY(20px);
}

.coin {
  width: 100%;
  height: 100%;
  position: relative;
  transform-style: preserve-3d;
  transform: rotateX(0deg);
}

.coin-side {
  position: absolute;
  width: 100%;
  height: 100%;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: 'Permanent Marker', cursive;
  font-size: clamp(24px, 5vw, 32px);
  font-weight: normal;
  color: var(--black);
  backface-visibility: hidden;
  border: 4px solid var(--black);
  box-shadow:
    0 0 0 2px rgba(0,0,0,0.6),
    6px 6px 0 rgba(0,0,0,0.7),
    inset 0 0 30px rgba(0,0,0,0.1);
  text-shadow:
    0 0 1px rgba(0,0,0,0.8),
    -1px 1px 0 rgba(255,255,255,0.5);
  text-align: center;
  padding: 20px;
  word-wrap: break-word;
  background-image:
    repeating-linear-gradient(
      -45deg,
      rgba(0,0,0,0.05) 0 2px,
      transparent 2px 5px
    );
}

.coin-front {
  background: linear-gradient(135deg, #ffd700 0%, #ffed4e 50%, #ffd700 100%);
  transform: rotateX(0deg) translateZ(5px);
}

.coin-back {
  background: linear-gradient(135deg, #c0c0c0 0%, #e8e8e8 50%, #c0c0c0 100%);
  transform: rotateX(180deg) translateZ(5px);
}

@keyframes coin-flip-front {
  0% {
    transform: translateY(0) rotateX(0deg);
  }
  50% {
    transform: translateY(-150px) rotateX(1800deg);
  }
  100% {
    transform: translateY(0) rotateX(3600deg); /* –æ—Ä—ë–ª */
  }
}

@keyframes coin-flip-back {
  0% {
    transform: translateY(0) rotateX(0deg);
  }
  50% {
    transform: translateY(-150px) rotateX(1800deg);
  }
  100% {
    transform: translateY(0) rotateX(3780deg); /* –Ω–∞ 180¬∞ –±–æ–ª—å—à–µ ‚Üí —Ä–µ—à–∫–∞ */
  }
}

/* –∫–ª–∞—Å—Å—ã –∞–Ω–∏–º–∞—Ü–∏–∏ */
.coin.flipping-front {
  animation: coin-flip-front 2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.coin.flipping-back {
  animation: coin-flip-back 2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

/* –†–µ–∑—É–ª—å—Ç–∞—Ç */
.coin-result {
  font-family: 'Bangers', cursive;
  font-size: clamp(28px, 6vw, 40px);
  color: var(--black);
  text-shadow:
    0 0 1px rgba(0,0,0,0.8),
    -1px 1px 0 rgba(255,255,255,0.5);
  opacity: 0;
  transform: translateY(20px) scale(0.8);
  transition: all 0.5s ease;
  min-height: 1.2em;
}

.coin-result.show {
  opacity: 1;
  transform: translateY(20px) scale(1);
}

.input-group {
  background: var(--gray-light);
  padding: 20px;
  border-radius: 15px;
  position: relative;
  border: 2px solid var(--black);
  box-shadow:
    0 0 0 1px rgba(0,0,0,0.4),
    4px 4px 0 rgba(0,0,0,0.4);
  background-image:
    repeating-linear-gradient(
      -45deg,
      rgba(0,0,0,0.02) 0 2px,
      transparent 2px 4px
    );
}

.input-group::after {
  content: '';
  position: absolute;
  top: 5px;
  right: 5px;
  width: 18px;
  height: 18px;
  border-radius: 50%;
  border: 2px solid var(--black);
  background:
    radial-gradient(circle at 30% 30%, rgba(0,0,0,0.15), transparent 60%),
    var(--white);
}

.input-label {
  display: block;
  font-size: clamp(18px, 4.5vw, 22px);
  color: var(--black);
  margin-bottom: 15px;
  font-family: 'Bangers', cursive;
  text-transform: uppercase;
  letter-spacing: 1px;
  text-align: center;
}

.question-input {
  width: 100%;
  padding: 14px 16px;
  font-family: 'Kalam', sans-serif;
  font-size: clamp(16px, 4vw, 20px);
  font-weight: normal;
  text-align: center;
  border-radius: 10px;
  background: var(--white);
  color: var(--black);
  border: 2px solid var(--black);
  box-shadow:
    inset 0 0 0 1px rgba(0,0,0,0.3),
    3px 3px 0 rgba(0,0,0,0.4);
  transition: all 0.3s ease;
  margin-bottom: 20px;
  background-image:
    repeating-linear-gradient(
      -45deg,
      rgba(0,0,0,0.02) 0 2px,
      transparent 2px 4px
    );
}

.question-input::placeholder {
  color: var(--gray-medium);
  opacity: 0.7;
}

.question-input:focus {
  outline: none;
  transform: translateY(-2px) rotate(-1deg);
  box-shadow:
    inset 0 0 0 1px rgba(0,0,0,0.35),
    4px 4px 0 rgba(0,0,0,0.55);
}

.question-input:disabled {
  opacity: 0.6;
  cursor: not-allowed;
  background: var(--gray-light);
}

.option-inputs {
  display: flex;
  gap: 15px;
  margin-bottom: 15px;
}

.option-wrapper {
  flex: 1;
}

.option-wrapper label {
  display: block;
  font-size: 14px;
  color: var(--gray-dark);
  margin-bottom: 8px;
  text-align: center;
  font-family: 'Permanent Marker', cursive;
  text-transform: uppercase;
}

.option-input {
  width: 100%;
  padding: 14px 10px;
  font-family: 'Kalam', sans-serif;
  font-size: 18px;
  font-weight: normal;
  text-align: center;
  border-radius: 10px;
  background: var(--white);
  color: var(--black);
  border: 2px solid var(--black);
  box-shadow:
    inset 0 0 0 1px rgba(0,0,0,0.3),
    3px 3px 0 rgba(0,0,0,0.4);
  transition: all 0.3s ease;
  background-image:
    repeating-linear-gradient(
      -45deg,
      rgba(0,0,0,0.02) 0 2px,
      transparent 2px 4px
    );
}

.option-input:focus {
  outline: none;
  transform: translateY(-2px) rotate(-1deg);
  box-shadow:
    inset 0 0 0 1px rgba(0,0,0,0.35),
    4px 4px 0 rgba(0,0,0,0.55);
}

.option-input.error {
  background:
    repeating-linear-gradient(
      45deg,
      #ffffff 0 6px,
      #f0f0f0 6px 12px
    );
  animation: shake 0.5s ease;
}

.option-input:disabled {
  opacity: 0.6;
  cursor: not-allowed;
  background: var(--gray-light);
}

@keyframes shake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-8px); }
  75% { transform: translateX(8px); }
}

.char-counter {
  font-size: 12px;
  color: var(--gray-dark);
  text-align: right;
  margin-top: 4px;
  font-family: 'Permanent Marker', cursive;
}

.char-counter.error {
  color: var(--black);
  font-weight: normal;
}

.error-message {
  color: var(--black);
  background: var(--white);
  border: 2px solid var(--black);
  border-radius: 8px;
  padding: 12px;
  font-size: 14px;
  text-align: center;
  opacity: 0;
  max-height: 0;
  overflow: hidden;
  transition: opacity 0.3s ease, max-height 0.3s ease;
  font-weight: normal;
  font-family: 'Permanent Marker', cursive;
  box-shadow:
    0 0 0 1px rgba(0,0,0,0.4),
    3px 3px 0 rgba(0,0,0,0.5);
  transform: rotate(-1deg);
  background-image:
    repeating-linear-gradient(
      -45deg,
      rgba(0,0,0,0.02) 0 2px,
      transparent 2px 4px
    );
}

.error-message.show {
  opacity: 1;
  max-height: 100px;
}

/* –ö–Ω–æ–ø–∫–∞ –ø–æ–¥–±—Ä–æ—Å–∏—Ç—å */
.flip-button {
  width: 100%;
  padding: 18px 34px;
  font-family: 'Bangers', cursive;
  font-size: clamp(24px, 6vw, 34px);
  font-weight: normal;
  color: var(--black);
  background: var(--gray-light);
  border-radius: 14px;
  cursor: pointer;
  border: 2px solid var(--black);
  box-shadow:
    0 0 0 1px rgba(0,0,0,0.6),
    4px 4px 0 rgba(0,0,0,0.7);
  transition: transform 0.2s ease, box-shadow 0.2s ease;
  position: relative;
  overflow: hidden;
  touch-action: manipulation;
  text-transform: uppercase;
  letter-spacing: 2px;
  transform: rotate(-1deg);
  margin-top: 26px;
  background-image:
    repeating-linear-gradient(
      -45deg,
      rgba(0,0,0,0.08) 0 2px,
      transparent 2px 5px
    );
}

.flip-button::before {
  content: '';
  position: absolute;
  inset: 0;
  background:
    repeating-linear-gradient(
      90deg,
      transparent 0 15px,
      rgba(0,0,0,0.08) 15px 17px
    );
  opacity: 0;
  transition: opacity 0.25s ease;
  pointer-events: none;
}

.flip-button:hover:not(:disabled)::before {
  opacity: 1;
}

.flip-button:hover:not(:disabled) {
  transform: rotate(-1deg) translate(-2px, -2px);
  box-shadow:
    0 0 0 1px rgba(0,0,0,0.75),
    6px 6px 0 rgba(0,0,0,0.8);
}

.flip-button:active:not(:disabled) {
  transform: rotate(-1deg) translate(2px, 2px);
  box-shadow:
    0 0 0 1px rgba(0,0,0,0.75),
    2px 2px 0 rgba(0,0,0,0.8);
}

.flip-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: rotate(-1deg);
}

/* –î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ —Ñ–æ–Ω—É */
.coin-decoration {
  position: fixed;
  font-size: 40px;
  opacity: 0.08;
  pointer-events: none;
  z-index: 0;
  animation: float 6s ease-in-out infinite;
}

@keyframes float {
  0%, 100% { transform: translateY(0) rotate(0deg); }
  50% { transform: translateY(-20px) rotate(5deg); }
}

.coin-1 { top: 10%; left: 5%; animation-delay: 0s; }
.coin-2 { top: 15%; right: 8%; animation-delay: 0.5s; }
.coin-3 { top: 60%; left: 3%; animation-delay: 1s; }
.coin-4 { top: 75%; right: 10%; animation-delay: 1.5s; }
.coin-5 { top: 30%; left: 12%; animation-delay: 2s; }
.coin-6 { top: 45%; right: 15%; animation-delay: 2.5s; }
.coin-7 { top: 85%; left: 20%; animation-delay: 3s; }
.coin-8 { top: 20%; right: 25%; animation-delay: 3.5s; }
.coin-9 { top: 70%; left: 15%; animation-delay: 4s; }
.coin-10 { top: 50%; right: 5%; animation-delay: 4.5s; }

/* –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è */
@media (max-width: 768px) {
  body {
    padding: calc(20px + var(--safe-top)) var(--safe-right) calc(20px + var(--safe-bottom)) var(--safe-left);
  }

  .container {
    padding: 30px 20px;
    max-width: 100%;
    margin-top: 50px;
  }

  .main-layout {
    grid-template-columns: 1fr;
    gap: 30px;
  }

  h1 {
    margin-bottom: 20px;
    font-size: clamp(28px, 7vw, 40px);
  }

  .settings-column {
    gap: 15px;
  }

  .coin-column {
    min-height: 200px;
    gap: 20px;
    margin-top: 0;
  }

  .option-inputs {
    flex-direction: column;
    gap: 12px;
  }

  .input-group {
    padding: 15px;
  }

  .flip-button {
    padding: 16px 24px;
    font-size: clamp(20px, 5vw, 24px);
  }
}

@media (max-width: 768px) {
  .home-button {
    position: absolute;
    top: calc(20px + var(--safe-top));
  }
}

@media (max-width: 480px) {
  .home-button {
    padding: 8px 18px;
    font-size: 18px;
  }
}

/* —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ —à—Ä–∏—Ñ—Ç–æ–≤ */
html, body {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏ –∫–Ω–æ–ø–∫–∞ ‚Äî Bangers */
h1, .flip-button {
  font-family: 'Bangers', cursive;
  font-weight: normal;
}

/* iPhone: –º–æ–Ω–µ—Ç–∫–∞ ‚Üí Kalam */
@media screen and (max-device-width: 812px) and (-webkit-min-device-pixel-ratio: 2) {
  .coin-side {
    font-family: 'Kalam', sans-serif !important;
    font-weight: 700;
  }
}

/* –∏–Ω–ø—É—Ç—ã: Kalam –ø–æ–∂–∏—Ä–Ω–µ–µ */
.question-input,
.option-input {
  font-family: 'Kalam', sans-serif;
  font-weight: 700;
}

  </style>
</head>
<body>
  <!-- –î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ —Ñ–æ–Ω—É -->
  <div class="coin-decoration coin-1">ü™ô</div>
  <div class="coin-decoration coin-2">‚öñÔ∏è</div>
  <div class="coin-decoration coin-3">ü™ô</div>
  <div class="coin-decoration coin-4">‚òëÔ∏è</div>
  <div class="coin-decoration coin-5">‚öñÔ∏è</div>
  <div class="coin-decoration coin-6">ü™ô</div>
  <div class="coin-decoration coin-7">‚òëÔ∏è</div>
  <div class="coin-decoration coin-8">ü™ô</div>
  <div class="coin-decoration coin-9">‚öñÔ∏è</div>
  <div class="coin-decoration coin-10">ü™ô</div>

  <a href="index.html" class="home-button">–ì–ª–∞–≤–Ω–∞—è</a>

  <div class="container">
    <h1>–ü–æ–¥–±—Ä–æ—Å—å –º–æ–Ω–µ—Ç–∫—É</h1>

    <div class="main-layout">
      <!-- –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ -->
      <div class="settings-column">
        <div class="input-group">
          <input
            type="text"
            id="questionInput"
            class="question-input"
            placeholder="–í–≤–µ–¥–∏ —Å–≤–æ–π –≤–æ–ø—Ä–æ—Å —Å—é–¥–∞"
            maxlength="100"
            autocomplete="off"
          />

          <div class="option-inputs">
            <div class="option-wrapper">
              <label for="option1">–í–∞—Ä–∏–∞–Ω—Ç 1</label>
                <input 
                type="text" 
                id="option1" 
                class="option-input" 
                value="–î–∞"
                maxlength="10"
                autocomplete="off"
                />
              <div class="char-counter" id="counter1">0 / 10</div>
            </div>

            <div class="option-wrapper">
              <label for="option2">–í–∞—Ä–∏–∞–Ω—Ç 2</label>
                <input 
                type="text" 
                id="option2" 
                class="option-input" 
                value="–ù–µ—Ç"
                maxlength="10"
                autocomplete="off"
                />
              <div class="char-counter" id="counter2">0 / 10</div>
            </div>
          </div>

          <div class="error-message" id="errorMessage">
            –ö–∞–∂–¥—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –æ—Ç 1 –¥–æ 10 —Å–∏–º–≤–æ–ª–æ–≤
          </div>
        </div>

        <button class="flip-button" id="flipButton">
          –ü–æ–¥–±—Ä–æ—Å–∏—Ç—å
        </button>
      </div>

      <!-- –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: –º–æ–Ω–µ—Ç–∫–∞ -->
      <div class="coin-column">
        <div class="coin-container">
          <div class="coin" id="coin">
            <div class="coin-side coin-front" id="coinFront">–î–∞</div>
            <div class="coin-side coin-back" id="coinBack">–ù–µ—Ç</div>
          </div>
        </div>
        <div class="coin-result" id="coinResult"></div>
      </div>
    </div>
  </div>
<script>
  const questionInput = document.getElementById('questionInput');
  const option1Input = document.getElementById('option1');
  const option2Input = document.getElementById('option2');
  const counter1 = document.getElementById('counter1');
  const counter2 = document.getElementById('counter2');
  const errorMessage = document.getElementById('errorMessage');
  const flipButton = document.getElementById('flipButton');
  const coin = document.getElementById('coin');
  const coinFront = document.getElementById('coinFront');
  const coinBack = document.getElementById('coinBack');
  const coinResult = document.getElementById('coinResult');

  const STORAGE_KEY = 'coin_flip_options';

  // üîπ –î–µ—Ñ–æ–ª—Ç–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –¥–ª—è –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä–∞
    const defaultQuestions = [
    '–ï—Å—Ç—å –ª–∏ –∏–Ω–æ–ø–ª–∞–Ω–µ—Ç—è–Ω–µ?',
    '–ò–¥—ë—Ç –ª–∏ –¥–æ–∂–¥—å –≤ –õ–æ–Ω–¥–æ–Ω–µ?',
    '–Ø –≥–µ–Ω–∏–π –∏–ª–∏ –Ω–µ—Ç?',
    '–ó–∞–∫–∞–∑–∞—Ç—å –¥–æ—Å—Ç–∞–≤–∫—É?',
    '–ù–∞—á–∞—Ç—å –Ω–æ–≤—É—é –∂–∏–∑–Ω—å —Å–µ–≥–æ–¥–Ω—è?',
    '–£–±–∏—Ä–∞—Ç—å –∫–≤–∞—Ä—Ç–∏—Ä—É?',
    '–ò–¥—Ç–∏ –ª–∏ –≤ –∑–∞–ª?',
    '–ü–æ—Ä–∞ –ª–∏ —Å–ø–∞—Ç—å?',
    '–ö—É–ø–∏—Ç—å –ª–∏ –∫–æ—Ñ–µ?',
    '–ü—Ä–æ–¥–∞—é –∫–≤–∞—Ä—Ç–∏—Ä—É?',
    '–ñ–¥–∞—Ç—å –∑–Ω–∞–∫ —Å—É–¥—å–±—ã?',
    '–°—Ç–æ–∏—Ç –ª–∏ —Ä–∏—Å–∫–Ω—É—Ç—å?',
    '–ü–æ–π—Ç–∏ –Ω–∞ —Å–≤–∏–¥–∞–Ω–∏–µ?',
    '–°–¥–µ–ª–∞—Ç—å –ø–µ—Ä–µ—Ä—ã–≤?',
    '–£—á–∏—Ç—å –Ω–æ–≤—ã–π —è–∑—ã–∫?',
    '–ü–æ–º–µ–Ω—è—Ç—å —Ä–∞–±–æ—Ç—É?',
    '–ó–∞–≤–µ—Å—Ç–∏ –ø–∏—Ç–æ–º—Ü–∞?',
    '–ü—É—Ç–µ—à–µ—Å—Ç–≤–æ–≤–∞—Ç—å –ª–∏ —Å–µ–π—á–∞—Å?',
    '–ù–∞—á–∞—Ç—å –±–∏–∑–Ω–µ—Å?',
    '–ü–æ–º–µ–Ω—è—Ç—å –ø—Ä–∏—á–µ—Å–∫—É?'
    ];


  // üîπ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–∞–Ω–¥–æ–º–Ω–æ–≥–æ –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä–∞ –∏ –¥–µ—Ñ–æ–ª—Ç–æ–≤ –¥–ª—è –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
  function setDefaultPlaceholders() {
    // –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –µ—â—ë –Ω–∏—á–µ–≥–æ –Ω–µ –≤–≤—ë–ª
    if (!questionInput.value) {
      const randomIndex = Math.floor(Math.random() * defaultQuestions.length);
      questionInput.placeholder = defaultQuestions[randomIndex];
    }

    // –î–∞ / –ù–µ—Ç –∫–∞–∫ –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã –æ—Ç–≤–µ—Ç–æ–≤, –µ—Å–ª–∏ –ø–æ–ª—è –ø—É—Å—Ç—ã–µ
    if (!option1Input.value) {
      option1Input.placeholder = '–î–∞';
    }
    if (!option2Input.value) {
      option2Input.placeholder = '–ù–µ—Ç';
    }
  }

  function loadSavedOptions() {
    try {
      const saved = localStorage.getItem(STORAGE_KEY);
      if (saved) {
        const { question, opt1, opt2 } = JSON.parse(saved);
        if (question && question.length >= 0 && question.length <= 100) {
          questionInput.value = question;
        }
        if (opt1 && opt1.length >= 1 && opt1.length <= 10) {
          option1Input.value = opt1;
        }
        if (opt2 && opt2.length >= 1 && opt2.length <= 10) {
          option2Input.value = opt2;
        }
        updateCounters();
      }
    } catch (e) {}
  }

  function saveOptions() {
    try {
      const question = questionInput.value.trim();
      const opt1 = option1Input.value.trim();
      const opt2 = option2Input.value.trim();
      if (opt1.length >= 1 && opt1.length <= 10 &&
          opt2.length >= 1 && opt2.length <= 10) {
        localStorage.setItem(STORAGE_KEY, JSON.stringify({ question, opt1, opt2 }));
      }
    } catch (e) {}
  }

  function updateCounters() {
    const len1 = option1Input.value.length;
    const len2 = option2Input.value.length;
    
    counter1.textContent = `${len1} / 10`;
    counter2.textContent = `${len2} / 10`;
    
    if (len1 === 0 || len1 > 10) {
      counter1.classList.add('error');
    } else {
      counter1.classList.remove('error');
    }
    
    if (len2 === 0 || len2 > 10) {
      counter2.classList.add('error');
    } else {
      counter2.classList.remove('error');
    }
  }

  function validateOptions() {
    const opt1 = option1Input.value.trim();
    const opt2 = option2Input.value.trim();
    
    const valid1 = opt1.length >= 1 && opt1.length <= 10;
    const valid2 = opt2.length >= 1 && opt2.length <= 10;
    
    if (!valid1) {
      option1Input.classList.add('error');
    } else {
      option1Input.classList.remove('error');
    }
    
    if (!valid2) {
      option2Input.classList.add('error');
    } else {
      option2Input.classList.remove('error');
    }
    
    if (!valid1 || !valid2) {
      errorMessage.textContent = '–ö–∞–∂–¥—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –æ—Ç 1 –¥–æ 10 —Å–∏–º–≤–æ–ª–æ–≤';
      errorMessage.classList.add('show');
      flipButton.disabled = true;
      return false;
    }

    if (opt1.toLowerCase() === opt2.toLowerCase()) {
      errorMessage.textContent = '–û–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ ‚Äî –º–æ–Ω–µ—Ç–∫–µ –Ω–æ—Ä–º, —Ç–µ–±–µ –Ω–µ –æ—á–µ–Ω—å üôÇ';
      errorMessage.classList.add('show');
    } else {
      errorMessage.classList.remove('show');
    }
    
    flipButton.disabled = false;
    return true;
  }

  questionInput.addEventListener('input', () => {
    saveOptions();
  });

  option1Input.addEventListener('input', () => {
    updateCounters();
    validateOptions();
    saveOptions();
  });

  option2Input.addEventListener('input', () => {
    updateCounters();
    validateOptions();
    saveOptions();
  });

  let isFlipping = false;

  flipButton.addEventListener('click', () => {
    if (!validateOptions() || isFlipping) return;

    isFlipping = true;
    flipButton.disabled = true;
    questionInput.disabled = true;
    option1Input.disabled = true;
    option2Input.disabled = true;

    const opt1 = option1Input.value.trim();
    const opt2 = option2Input.value.trim();
    coinFront.textContent = opt1;
    coinBack.textContent = opt2;

    coinResult.classList.remove('show');

    // —Å–±—Ä–∞—Å—ã–≤–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –∏ –ø–æ–ª–æ–∂–µ–Ω–∏–µ
    coin.classList.remove('flipping-front', 'flipping-back');
    coin.style.transform = 'translateY(0) rotateX(0deg)';

    const result = Math.random() < 0.5 ? 'front' : 'back';

    // –¥–∞—ë–º –±—Ä–∞—É–∑–µ—Ä—É –∫–∞–¥—Ä, —á—Ç–æ–±—ã –ø—Ä–∏–º–µ–Ω–∏—Ç—å —Å–±—Ä–æ—Å
    setTimeout(() => {
      // –∑–∞–ø—É—Å–∫–∞–µ–º –Ω—É–∂–Ω—É—é –∞–Ω–∏–º–∞—Ü–∏—é
      if (result === 'front') {
        coin.classList.add('flipping-front');
      } else {
        coin.classList.add('flipping-back');
      }

      // –ø–æ—Å–ª–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏
      setTimeout(() => {
        coin.classList.remove('flipping-front', 'flipping-back');

        // —Ñ–∏–∫—Å–∏—Ä—É–µ–º —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —É–≥–æ–ª (–±–µ–∑ —Ä—ã–≤–∫–∞)
        if (result === 'front') {
          coin.style.transform = 'translateY(0) rotateX(0deg)';
          coinResult.textContent = `–í—ã–ø–∞–ª–æ: ${opt1}`;
        } else {
          coin.style.transform = 'translateY(0) rotateX(180deg)';
          coinResult.textContent = `–í—ã–ø–∞–ª–æ: ${opt2}`;
        }

        setTimeout(() => {
          coinResult.classList.add('show');
        }, 200);

        isFlipping = false;
        flipButton.disabled = false;
        questionInput.disabled = false;
        option1Input.disabled = false;
        option2Input.disabled = false;
      }, 2000); // 2s = –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏
    }, 50);
  });

  loadSavedOptions();
  setDefaultPlaceholders();
  updateCounters();
  validateOptions();
</script>

</body>
</html>