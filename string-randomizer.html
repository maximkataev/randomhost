<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />

  <title>–†–∞–Ω–¥–æ–º–∞–π–∑–µ—Ä –°—Ç—Ä–æ–∫</title>
  <meta name="description" content="–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–ª—É—á–∞–π–Ω—ã—Ö —Å—Ç—Ä–æ–∫ –∏–∑ —Å–ø–∏—Å–∫–∞">
  <meta name="robots" content="index,follow">
  
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;500;700&display=swap&subset=cyrillic" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Kalam:wght@300;400;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;500;700&display=swap&subset=cyrillic" rel="stylesheet">

  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>üé≤</text></svg>" type="image/svg+xml">

  <meta name="theme-color" content="#ffffff">

  <style>
    * { 
      margin: 0; 
      padding: 0; 
      box-sizing: border-box; 
      -webkit-tap-highlight-color: transparent;
    }
    
    :root {
      --safe-top: env(safe-area-inset-top, 0px);
      --safe-right: env(safe-area-inset-right, 0px);
      --safe-bottom: env(safe-area-inset-bottom, 0px);
      --safe-left: env(safe-area-inset-left, 0px);
      
      --white: #fcfcfc;
      --black: #232323;
      --gray-light: #f3f3f3;
      --gray-medium: #c7c7c7;
      --gray-dark: #777777;
    }

    body {
      min-height: 100vh;
      background:
        radial-gradient(circle at 0 0, rgba(0,0,0,0.04), transparent 55%),
        radial-gradient(circle at 100% 100%, rgba(0,0,0,0.04), transparent 55%),
        var(--white);
      font-family: 'Permanent Marker', 'Bangers', cursive;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: calc(80px + var(--safe-top)) var(--safe-right) calc(20px + var(--safe-bottom)) var(--safe-left);
      position: relative;
      overflow-x: hidden;
      color: var(--black);
    }

    body::before {
      content: '';
      position: fixed;
      inset: 0;
      background-image: 
        repeating-linear-gradient(
          0deg,
          transparent,
          transparent 27px,
          rgba(0,0,0,0.04) 27px,
          rgba(0,0,0,0.04) 28px
        ),
        repeating-linear-gradient(
          90deg,
          transparent,
          transparent 27px,
          rgba(0,0,0,0.025) 27px,
          rgba(0,0,0,0.025) 28px
        );
      mix-blend-mode: multiply;
      pointer-events: none;
      z-index: 1;
    }

    /* –ö–Ω–æ–ø–∫–∞ –¥–æ–º–æ–π */
    .home-button {
      position: fixed;
      top: calc(20px + var(--safe-top));
      left: calc(20px + var(--safe-left));
      z-index: 1000;
      padding: 10px 22px;
      background: var(--white);
      color: var(--black);
      text-decoration: none;
      font-family: 'Bangers', cursive;
      font-size: 20px;
      border-radius: 12px;
      border: 2px solid var(--black);
      box-shadow:
        0 0 0 1px rgba(0,0,0,0.5),
        3px 3px 0 rgba(0,0,0,0.5);
      transition: transform 0.15s ease, box-shadow 0.15s ease;
      letter-spacing: 1px;
      text-transform: uppercase;
      transform: rotate(-2deg);
      background-image:
        repeating-linear-gradient(
          -45deg,
          rgba(0,0,0,0.08) 0 1px,
          transparent 1px 3px
        );
    }

    .home-button:hover {
      transform: rotate(-2deg) translate(-2px, -2px);
      box-shadow:
        0 0 0 1px rgba(0,0,0,0.6),
        5px 5px 0 rgba(0,0,0,0.6);
    }

    .home-button:active {
      transform: rotate(-2deg) translate(2px, 2px);
      box-shadow:
        0 0 0 1px rgba(0,0,0,0.6),
        1px 1px 0 rgba(0,0,0,0.6);
    }

    .container {
      position: relative;
      z-index: 2;
      width: 100%;
      max-width: 1100px;
      background: var(--white);
      padding: 40px 30px;
      border-radius: 20px;
      border: 2px solid var(--black);
      box-shadow:
        0 0 0 1px rgba(0,0,0,0.7),
        6px 6px 0 rgba(0,0,0,0.7);
      transform: rotate(-0.8deg);
      background-image:
        repeating-linear-gradient(
          -45deg,
          rgba(0,0,0,0.03) 0 2px,
          transparent 2px 4px
        );
      overflow: hidden;
    }

    /* "–ö—Ä–∏–≤–æ–π" –∫–æ–Ω—Ç—É—Ä, –∫–∞–∫ –æ—Ç —Ä—É–∫–∏ */
    .container::before {
      content: '';
      position: absolute;
      inset: 6px;
      border-radius: 16px;
      border: 2px dashed rgba(0,0,0,0.3);
      transform: rotate(0.8deg);
      pointer-events: none;
    }

    .main-layout {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 30px;
      align-items: start;
    }

    .settings-column {
      display: flex;
      flex-direction: column;
      gap: 0;
    }

    .generator-column {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 400px;
    }

    h1 {
      font-family: 'Bangers', cursive;
      font-size: clamp(32px, 8vw, 52px);
      color: var(--black);
      text-align: center;
      margin-bottom: 30px;
      font-weight: 400;
      letter-spacing: 2px;
      position: relative;
      text-shadow:
        0 0 1px rgba(0,0,0,0.8),
        -1px 1px 0 rgba(255,255,255,0.5);
      transform: rotate(-1deg);
      grid-column: 1 / -1;
    }

    .subtitle {
      display: none;
    }

    textarea {
      width: 100%;
      min-height: 180px;
      padding: 16px;
      font-family: 'Rubik', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      font-size: 16px;
      border-radius: 10px;
      background: var(--white);
      color: var(--black);
      border: 2px solid var(--black);
      box-shadow:
        inset 0 0 0 1px rgba(0,0,0,0.3),
        3px 3px 0 rgba(0,0,0,0.4);
      transition: all 0.3s ease;
      resize: vertical;
      line-height: 1.6;
      background-image:
        repeating-linear-gradient(
          -45deg,
          rgba(0,0,0,0.02) 0 2px,
          transparent 2px 4px
        );
    }

    textarea:focus {
      outline: none;
      transform: translateY(-2px) rotate(-0.5deg);
      box-shadow:
        inset 0 0 0 1px rgba(0,0,0,0.35),
        4px 4px 0 rgba(0,0,0,0.55);
    }

    textarea:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }

    .separator-input {
      width: 100%;
      padding: 12px 16px;
      font-family: 'Rubik', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      font-size: 16px;
      border-radius: 10px;
      background: var(--white);
      color: var(--black);
      border: 2px solid var(--black);
      box-shadow:
        inset 0 0 0 1px rgba(0,0,0,0.3),
        3px 3px 0 rgba(0,0,0,0.4);
      transition: all 0.3s ease;
      margin-top: 12px;
      background-image:
        repeating-linear-gradient(
          -45deg,
          rgba(0,0,0,0.02) 0 2px,
          transparent 2px 4px
        );
    }

    .separator-input:focus {
      outline: none;
      transform: translateY(-2px) rotate(-0.5deg);
      box-shadow:
        inset 0 0 0 1px rgba(0,0,0,0.35),
        4px 4px 0 rgba(0,0,0,0.55);
    }

    .separator-input:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }

    .separator-info {
      margin-top: 10px;
      font-size: 14px;
      color: var(--gray-dark);
      font-family: 'Permanent Marker', cursive;
      text-align: center;
    }

    .input-group {
      background: var(--gray-light);
      padding: 20px;
      border-radius: 15px;
      position: relative;
      border: 2px solid var(--black);
      box-shadow:
        0 0 0 1px rgba(0,0,0,0.4),
        4px 4px 0 rgba(0,0,0,0.4);
      background-image:
        repeating-linear-gradient(
          -45deg,
          rgba(0,0,0,0.02) 0 2px,
          transparent 2px 4px
        );
    }

    .input-group::after {
      content: '';
      position: absolute;
      top: 5px;
      right: 5px;
      width: 18px;
      height: 18px;
      border-radius: 50%;
      border: 2px solid var(--black);
      background:
        radial-gradient(circle at 30% 30%, rgba(0,0,0,0.15), transparent 60%),
        var(--white);
    }

    .input-label {
      display: block;
      font-size: clamp(18px, 4.5vw, 22px);
      color: var(--black);
      margin-bottom: 15px;
      font-family: 'Bangers', cursive;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .range-inputs {
      display: flex;
      gap: 15px;
      align-items: center;
      justify-content: center;
      margin-bottom: 20px;
    }

    .range-input-wrapper {
      flex: 1;
      max-width: 130px;
    }

    .range-input-wrapper label {
      display: block;
      font-size: 16px;
      color: var(--gray-dark);
      margin-bottom: 8px;
      text-align: center;
      font-family: 'Permanent Marker', cursive;
      text-transform: uppercase;
    }

    input[type="number"] {
      width: 100%;
      padding: 14px 10px;
      font-family: 'Rubik', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      font-size: clamp(22px, 5.5vw, 32px);
      font-weight: 400;
      text-align: center;
      border-radius: 10px;
      background: var(--white);
      color: var(--black);
      border: 2px solid var(--black);
      box-shadow:
        inset 0 0 0 1px rgba(0,0,0,0.3),
        3px 3px 0 rgba(0,0,0,0.4);
      transition: all 0.3s ease;
      appearance: textfield;
      -moz-appearance: textfield;
      letter-spacing: 1px;
      background-image:
        repeating-linear-gradient(
          -45deg,
          rgba(0,0,0,0.02) 0 2px,
          transparent 2px 4px
        );
    }

    input[type="number"]::-webkit-outer-spin-button,
    input[type="number"]::-webkit-inner-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }

    input[type="number"]:focus {
      outline: none;
      transform: translateY(-2px) rotate(-1deg);
      box-shadow:
        inset 0 0 0 1px rgba(0,0,0,0.35),
        4px 4px 0 rgba(0,0,0,0.55);
    }

    input[type="number"].error {
      background:
        repeating-linear-gradient(
          45deg,
          #ffffff 0 6px,
          #f0f0f0 6px 12px
        );
      animation: shake 0.5s ease;
    }

    @keyframes shake {
      0%, 100% { transform: translateX(0) rotate(0deg); }
      25% { transform: translateX(-4px) rotate(-1.5deg); }
      75% { transform: translateX(4px) rotate(1.5deg); }
    }

    .range-separator {
      font-size: clamp(28px, 7vw, 40px);
      color: var(--black);
      font-family: 'Bangers', cursive;
      margin-top: 25px;
      font-weight: 400;
    }

    .slider-container {
      position: relative;
      margin: 25px 0 15px;
    }

    .dual-slider {
      position: relative;
      height: 50px;
      display: flex;
      align-items: center;
    }

    .slider-track {
      position: absolute;
      width: 100%;
      height: 12px;
      background: var(--white);
      border-radius: 6px;
      border: 2px solid var(--black);
      box-shadow: inset 0 0 0 1px rgba(0,0,0,0.35);
    }

    .slider-range {
      position: absolute;
      height: 10px;
      border-radius: 4px;
      top: 50%;
      transform: translateY(-50%);
      background-image:
        repeating-linear-gradient(
          90deg,
          rgba(0,0,0,0.65) 0 3px,
          rgba(0,0,0,0.35) 3px 6px
        );
      box-shadow: 0 1px 2px rgba(0,0,0,0.5);
    }

    input[type="range"] {
      position: absolute;
      width: 100%;
      height: 12px;
      background: transparent;
      pointer-events: none;
      -webkit-appearance: none;
      appearance: none;
    }

    input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 30px;
      height: 30px;
      border-radius: 50%;
      background: var(--white);
      border: 2px solid var(--black);
      box-shadow:
        0 0 0 1px rgba(0,0,0,0.6),
        3px 3px 0 rgba(0,0,0,0.6);
      cursor: pointer;
      pointer-events: auto;
      transition: all 0.2s ease;
    }

    input[type="range"]::-moz-range-thumb {
      width: 30px;
      height: 30px;
      border-radius: 50%;
      background: var(--white);
      border: 2px solid var(--black);
      box-shadow:
        0 0 0 1px rgba(0,0,0,0.6),
        3px 3px 0 rgba(0,0,0,0.6);
      cursor: pointer;
      pointer-events: auto;
      transition: all 0.2s ease;
    }

    input[type="range"]:active::-webkit-slider-thumb {
      transform: scale(1.07) rotate(7deg);
      box-shadow:
        0 0 0 1px rgba(0,0,0,0.7),
        4px 4px 0 rgba(0,0,0,0.7);
    }

    input[type="range"]:active::-moz-range-thumb {
      transform: scale(1.07) rotate(7deg);
      box-shadow:
        0 0 0 1px rgba(0,0,0,0.7),
        4px 4px 0 rgba(0,0,0,0.7);
    }

    .slider-values {
      display: flex;
      justify-content: space-between;
      margin-top: 12px;
      font-size: 18px;
      color: var(--gray-dark);
      font-family: 'Permanent Marker', cursive;
    }

    /* –ö–Ω–æ–ø–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ */
    .generate-btn {
      padding: 18px 34px;
      font-family: 'Bangers', cursive;
      font-size: clamp(24px, 6vw, 34px);
      font-weight: 400;
      color: var(--black);
      background: var(--gray-light);
      border-radius: 14px;
      cursor: pointer;
      border: 2px solid var(--black);
      box-shadow:
        0 0 0 1px rgba(0,0,0,0.6),
        4px 4px 0 rgba(0,0,0,0.7);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      position: relative;
      overflow: hidden;
      touch-action: manipulation;
      text-transform: uppercase;
      letter-spacing: 2px;
      transform: rotate(-1deg);
      margin-top: 26px;
      background-image:
        repeating-linear-gradient(
          -45deg,
          rgba(0,0,0,0.08) 0 2px,
          transparent 2px 5px
        );
    }

    .generate-btn::before {
      content: '';
      position: absolute;
      inset: 0;
      background:
        repeating-linear-gradient(
          90deg,
          transparent 0 15px,
          rgba(0,0,0,0.08) 15px 17px
        );
      opacity: 0;
      transition: opacity 0.25s ease;
      pointer-events: none;
    }

    .generate-btn:hover:not(:disabled)::before {
      opacity: 1;
    }

    .generate-btn:hover:not(:disabled) {
      transform: rotate(-1deg) translate(-2px, -2px);
      box-shadow:
        0 0 0 1px rgba(0,0,0,0.75),
        6px 6px 0 rgba(0,0,0,0.8);
    }

    .generate-btn:active:not(:disabled) {
      transform: rotate(-1deg) translate(2px, 2px);
      box-shadow:
        0 0 0 1px rgba(0,0,0,0.75),
        2px 2px 0 rgba(0,0,0,0.8);
    }

    .generate-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: rotate(-1deg);
    }

    .result-container {
      text-align: center;
      min-height: 200px;
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--white);
      border-radius: 15px;
      padding: 25px;
      position: relative;
      border: 2px dashed var(--black);
      box-shadow:
        inset 0 0 0 1px rgba(0,0,0,0.25);
      transform: rotate(1deg);
      background-image:
        repeating-linear-gradient(
          -45deg,
          rgba(0,0,0,0.02) 0 3px,
          transparent 3px 6px
        );
    }

    .result-container::before {
      content: '?';
      position: absolute;
      font-size: 110px;
      color: rgba(0,0,0,0.04);
      font-weight: 700;
      pointer-events: none;
      font-family: 'Bangers', cursive;
    }

    .result-number {
      font-family: 'Rubik', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      font-size: clamp(32px, 10vw, 56px);
      font-weight: 500;
      color: var(--black);
      text-shadow:
            0 0 1px rgba(0,0,0,0.6),
            -1px 1px 0 rgba(255,255,255,0.6);
      opacity: 0;
      transform: scale(0) rotate(-10deg);
      position: relative;
      z-index: 2;
      letter-spacing: 0.5px;
      white-space: pre-line; /* —á—Ç–æ–±—ã –ø–µ—Ä–µ–Ω–æ—Å—ã –∏–∑ –¥–ª–∏–Ω–Ω—ã—Ö —Å—Ç—Ä–æ–∫ —Ä–∞–±–æ—Ç–∞–ª–∏ */
      word-wrap: break-word;
      overflow-wrap: break-word;
      max-width: 100%;
      line-height: 1.35;
}


    .result-number.show {
      animation: popIn 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
    }

    @keyframes popIn {
      0% { 
        opacity: 0; 
        transform: scale(0) rotate(-10deg); 
      }
      50% { 
        transform: scale(1.1) rotate(4deg); 
      }
      100% { 
        opacity: 1; 
        transform: scale(1) rotate(-2deg); 
      }
    }

    .loading {
      font-size: clamp(22px, 5.5vw, 30px);
      color: var(--gray-dark);
      font-family: 'Permanent Marker', cursive;
      animation: pulse 1s ease-in-out infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 0.4; transform: scale(1); }
      50% { opacity: 1; transform: scale(1.03); }
    }

    .error-message {
      color: var(--black);
      background: var(--white);
      border-radius: 8px;
      font-size: 15px;
      margin-top: 15px;
      text-align: center;
      font-family: 'Permanent Marker', cursive;
      opacity: 0;
      transition: opacity 0.3s ease;
      border: 2px solid var(--black);
      box-shadow:
        0 0 0 1px rgba(0,0,0,0.4),
        3px 3px 0 rgba(0,0,0,0.5);
      transform: rotate(-1deg);
      padding: 8px 12px;
      background-image:
        repeating-linear-gradient(
          -45deg,
          rgba(0,0,0,0.02) 0 2px,
          transparent 2px 4px
        );
    }

    .error-message.show {
      opacity: 1;
      animation: wiggle 0.5s ease;
    }

    @keyframes wiggle {
      0%, 100% { transform: rotate(-1deg); }
      25% { transform: rotate(-3deg); }
      75% { transform: rotate(1deg); }
    }

    /* –î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ –∑–≤–µ–∑–¥–æ—á–∫–∏ */
    .star-decoration {
      position: absolute;
      font-size: 22px;
      opacity: 0.22;
      pointer-events: none;
      font-family: 'Bangers', cursive;
      color: var(--black);
    }

    .star-decoration:nth-child(1) { top: 10px; right: 16px; transform: rotate(9deg); }
    .star-decoration:nth-child(2) { top: 50%; left: -6px; transform: rotate(-18deg); }
    .star-decoration:nth-child(3) { bottom: 15px; right: -4px; transform: rotate(27deg); }

    /* –ö–∞—Ä–∞–Ω–¥–∞—à–Ω—ã–µ –¥–µ–∫–æ—Ä–∞—Ü–∏–∏ */
    .pencil-decoration {
      position: fixed;
      pointer-events: none;
      opacity: 0.16;
      z-index: 0;
      font-size: 72px;
      filter: grayscale(1);
      color: var(--black);
    }

    /* ===== –†–Ø–î 1 ‚Äî –í–ï–†–•–ù–ò–ô ===== */
    .pencil-1 { top: 7%; left: 9%; transform: rotate(-20deg); }
    .pencil-2 { top: 3%; left: 45%; transform: rotate(12deg); }
    .pencil-3 { top: 5%; right: 8%; transform: rotate(160deg); }

    /* ===== –†–Ø–î 2 ‚Äî –°–†–ï–î–ù–ò–ô ===== */
    .pencil-4 { top: 45%; left: 10%; transform: rotate(95deg); }
    .pencil-5 { top: 50%; left: 48%; transform: rotate(-35deg); }
    .pencil-6 { top: 40%; right: 10%; transform: rotate(-10deg); }

    /* ===== –†–Ø–î 3 ‚Äî –ù–ò–ñ–ù–ò–ô ===== */
    .pencil-7 { bottom: 20%; left: 12%; transform: rotate(110deg); }
    .pencil-8 { bottom: 4%; left: 50%; transform: rotate(270deg); }
    .pencil-9 { bottom: 5%; right: 12%; transform: rotate(10deg); }

    @media (prefers-reduced-motion: reduce) {
      * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
    }

    @media (max-width: 768px) {
      body {
        padding: calc(80px + var(--safe-top)) 12px calc(20px + var(--safe-bottom)) 12px;
      }

      .home-button {
        position: absolute;
        font-size: 18px;
        padding: 8px 18px;
      }

      .container {
        padding: 28px 18px;
        transform: rotate(-0.4deg);
      }

      .main-layout {
        grid-template-columns: 1fr;
        gap: 25px;
      }

      .generator-column {
        min-height: auto;
      }

      .generate-btn {
        width: 100%;
        margin-top: 20px;
        padding: 16px 24px;
      }

      .result-container {
        min-height: 160px;
      }

      .range-inputs {
        gap: 10px;
      }

      .slider-values {
        font-size: 16px;
      }

      .pencil-decoration {
        font-size: 56px;
        opacity: 0.18;
      }

      /* —á–∞—Å—Ç—å –∫–∞—Ä–∞–Ω–¥–∞—à–µ–π —É–±–∏—Ä–∞–µ–º, —á—Ç–æ–±—ã –Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–∞—Ç—å —Ñ–æ–Ω */
      .pencil-3,
      .pencil-4,
      .pencil-5,
      .pencil-6,
      .pencil-7,
      .pencil-8,
      .pencil-9 {
        display: none;
      }

      /* üëâ –º–æ–±–∏–ª—å–Ω—ã–π —à—Ä–∏—Ñ—Ç (iPhone fix) */
      body,
      h1,
      .input-label,
      .range-input-wrapper label,
      input[type="number"],
      .generate-btn,
      .result-number,
      .loading,
      .error-message,
      .home-button {
        font-family: 'Rubik', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif !important;
      }
    }
    textarea,
    .separator-input,
    input[type="number"] {
      font-family: 'Rubik', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif !important;
    }

    @media (max-width: 360px) {
      .range-input-wrapper {
        max-width: 110px;
      }

      input[type="number"] {
        padding: 12px 8px;
      }

      .input-group {
        padding: 15px;
      }
    }

    @media (hover: none) {
      .generate-btn:hover {
        transform: rotate(-1deg) !important;
      }
    }
  </style>

</head>
<body>
  <a href="index.html" class="home-button">–ì–ª–∞–≤–Ω–∞—è</a>


    <!-- –ö–∞—Ä–∞–Ω–¥–∞—à–∏ –∏ —à–∫–æ–ª—å–Ω—ã–µ —à—Ç—É–∫–µ–Ω—ã –ø–æ —Ñ–æ–Ω—É -->
    <div class="pencil-decoration pencil-1">‚úé</div>
    <div class="pencil-decoration pencil-2">‚úç</div>
    <div class="pencil-decoration pencil-3">‚úè</div>
    <div class="pencil-decoration pencil-4">‚úé</div>
    <div class="pencil-decoration pencil-5">‚úê</div>
    <div class="pencil-decoration pencil-6">‚ú≤</div>
    <div class="pencil-decoration pencil-7">„Ä∞</div>
    <div class="pencil-decoration pencil-8">‚úè</div>
    <div class="pencil-decoration pencil-9">‚åá</div>


  <div class="container">
    <div class="star-decoration">‚ú∂</div>
    <div class="star-decoration">‚ú∂</div>
    <div class="star-decoration">‚ú∂</div>

    <h1>–†–∞–Ω–¥–æ–º–∞–π–∑–µ—Ä —Å—Ç—Ä–æ–∫</h1>

    <div class="main-layout">
      <div class="settings-column">
        <div class="input-group">
          <label class="input-label">–í–≤–µ–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫–∏</label>
          <textarea id="inputText" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫–∏, —Ä–∞–∑–¥–µ–ª–µ–Ω–Ω—ã–µ –æ–¥–Ω–∏–º –∏–∑ —Å–∏–º–≤–æ–ª–æ–≤: –ø–µ—Ä–µ–Ω–æ—Å–æ–º —Å—Ç—Ä–æ–∫–∏, –ø—Ä–æ–±–µ–ª–æ–º, —Ç–æ—á–∫–æ–π —Å –∑–∞–ø—è—Ç–æ–π, —Ç–æ—á–∫–æ–π, —Ç–∏—Ä–µ –∏–ª–∏ –∑–∞–ø—è—Ç–æ–π"></textarea>

          <input
            type="text"
            id="separatorInput"
            class="separator-input"
            placeholder="–†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å"
          >
          <div class="separator-info" id="separatorInfo">–ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è</div>
        </div>
      </div>

      <div class="generator-column">
        <div class="result-container">
          <div class="result-number" id="result"></div>
        </div>

        <button class="generate-btn" id="generateBtn">–í—ã–±—Ä–∞—Ç—å</button>
        <div class="error-message" id="errorMsg"></div>
      </div>
    </div>
  </div>

  <script>
    const inputText = document.getElementById('inputText');
    const separatorInput = document.getElementById('separatorInput');
    const separatorInfo = document.getElementById('separatorInfo');
    const generateBtn = document.getElementById('generateBtn');
    const result = document.getElementById('result');
    const errorMsg = document.getElementById('errorMsg');

    let isGenerating = false;

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è
    function detectSeparator(text) {
      const separators = [';', '\n', '.', '-', ',', ' '];

      for (const sep of separators) {
        if (text.includes(sep)) {
          return sep;
        }
      }

      return null;
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞
    function splitText(text, separator) {
      if (!separator) {
        separator = detectSeparator(text);
        if (!separator) {
          return [text.trim()];
        }
      }

      return text
        .split(separator)
        .map(s => s.trim())
        .filter(s => s.length > 0);
    }

    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ
    function updateSeparatorInfo() {
      const text = inputText.value;

      if (text) {
        const detected = detectSeparator(text);
        if (detected) {
          const sepNames = {
            ';': '—Ç–æ—á–∫–∞ —Å –∑–∞–ø—è—Ç–æ–π',
            '\n': '–ø–µ—Ä–µ–Ω–æ—Å —Å—Ç—Ä–æ–∫–∏',
            '.': '—Ç–æ—á–∫–∞',
            '-': '—Ç–∏—Ä–µ',
            ',': '–∑–∞–ø—è—Ç–∞—è',
            ' ': '–ø—Ä–æ–±–µ–ª'
          };

          // –ü–æ–¥—Å—Ç–∞–≤–ª—è–µ–º –Ω–∞–π–¥–µ–Ω–Ω—ã–π —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –≤ –∏–Ω–ø—É—Ç
          if (detected === '\n') {
            separatorInput.value = '\\n';
          } else {
            separatorInput.value = detected;
          }

          separatorInfo.textContent = `–û–ø—Ä–µ–¥–µ–ª–µ–Ω —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å: ${sepNames[detected] || detected}`;
        } else {
          separatorInput.value = '';
          separatorInfo.textContent = '–†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω';
        }
      } else {
        separatorInput.value = '';
        separatorInfo.textContent = '–ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è';
      }
    }

    // –ü–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫—É
    function showError(message) {
      errorMsg.textContent = message;
      errorMsg.classList.add('show');
      setTimeout(() => {
        errorMsg.classList.remove('show');
      }, 3000);
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–ª–∏–Ω–Ω—ã—Ö —Å—Ç—Ä–æ–∫
    function formatLongString(str) {
      if (str.length <= 20) {
        return str;
      }

      // –†–∞–∑–±–∏–≤–∞–µ–º —Å—Ç—Ä–æ–∫—É –Ω–∞ —á–∞—Å—Ç–∏ –ø–æ 20 —Å–∏–º–≤–æ–ª–æ–≤, —Å—Ç–∞—Ä–∞—è—Å—å –Ω–µ —Ä–∞–∑—Ä—ã–≤–∞—Ç—å —Å–ª–æ–≤–∞
      const words = str.split(' ');
      const lines = [];
      let currentLine = '';

      for (const word of words) {
        if ((currentLine + ' ' + word).trim().length <= 20) {
          currentLine = (currentLine + ' ' + word).trim();
        } else {
          if (currentLine) {
            lines.push(currentLine);
          }
          currentLine = word;
        }
      }

      if (currentLine) {
        lines.push(currentLine);
      }

      return lines.join('\n');
    }

    // –§—É–Ω–∫—Ü–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–ª—É—á–∞–π–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
    async function generateRandomString() {
      if (isGenerating) return;

      const text = inputText.value.trim();

      if (!text) {
        showError('–í–≤–µ–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫–∏!');
        return;
      }

      // –ü–æ–ª—É—á–∞–µ–º —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –∏–∑ –∏–Ω–ø—É—Ç–∞
      let customSeparator = separatorInput.value.trim();

      // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤
      if (customSeparator === '\\n') {
        customSeparator = '\n';
      }

      // –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∏—á–µ–≥–æ –Ω–µ –≤–≤—ë–ª ‚Äî –ø–æ–∑–≤–æ–ª—è–µ–º –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
      if (!customSeparator) {
        customSeparator = null;
      }

      const strings = splitText(text, customSeparator);


      if (strings.length === 0) {
        showError('–ù–µ —É–¥–∞–ª–æ—Å—å —Ä–∞–∑–¥–µ–ª–∏—Ç—å —Ç–µ–∫—Å—Ç –Ω–∞ —Å—Ç—Ä–æ–∫–∏!');
        return;
      }

      // –ë–ª–æ–∫–∏—Ä—É–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–∞ –≤—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
      isGenerating = true;
      generateBtn.disabled = true;
      inputText.disabled = true;
      separatorInput.disabled = true;

      // –£–±–∏—Ä–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
      result.classList.remove('show');
      result.textContent = '';

      // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –∑–∞–≥—Ä—É–∑–∫–∏
      result.innerHTML = '<span class="loading">–í—ã–±–∏—Ä–∞—é...</span>';

      // –ñ–¥–µ–º 1 —Å–µ–∫—É–Ω–¥—É
      await new Promise(resolve => setTimeout(resolve, 1000));

      // –í—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—É—é —Å—Ç—Ä–æ–∫—É
      const randomIndex = Math.floor(Math.random() * strings.length);
      let randomString = strings[randomIndex];

      // –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –¥–ª–∏–Ω–Ω—É—é —Å—Ç—Ä–æ–∫—É
      randomString = formatLongString(randomString);

      // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
      result.textContent = randomString;
      result.classList.add('show');

      // –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã
      generateBtn.disabled = false;
      inputText.disabled = false;
      separatorInput.disabled = false;
      isGenerating = false;
    }

    // –°–æ–±—ã—Ç–∏—è
    generateBtn.addEventListener('click', generateRandomString);

    inputText.addEventListener('input', updateSeparatorInfo);

    // –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Enter –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º –ø–æ–ª–µ
    inputText.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' && e.ctrlKey) {
        e.preventDefault();
        generateRandomString();
      }
    });

    separatorInput.addEventListener('keydown', (e) => {
      if (e.key === 'Enter') {
        e.preventDefault();
        generateRandomString();
      }
    });
  </script>
</body>
</html>