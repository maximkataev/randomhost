<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />

  <title>–ú–µ–∫—Å–∏–∫–∞–Ω—Å–∫–∏–π –±–∞–Ω–∫ - –ö—Ä–µ–¥–∏—Ç–Ω–∞—è –†—É–ª–µ—Ç–∫–∞ | –†–∞–Ω–¥–æ–º–∞–π–∑–µ—Ä</title>
  <meta name="description" content="üè¶ –û–Ω–ª–∞–π–Ω —Ä–∞–Ω–¥–æ–º–∞–π–∑–µ—Ä El Cr√©dito - –º–µ–∫—Å–∏–∫–∞–Ω—Å–∫–∞—è –∫—Ä–µ–¥–∏—Ç–Ω–∞—è —Ä—É–ª–µ—Ç–∫–∞! –ü–æ–¥–∞–π –∑–∞—è–≤–∫—É –Ω–∞ –∫—Ä–µ–¥–∏—Ç –¥–æ 50,000 –ø–µ—Å–æ –∏ —É–∑–Ω–∞–π, –∫—Ç–æ –ø–æ–ª—É—á–∏—Ç –∑–æ–ª–æ—Ç–æ–π —à—Ç–∞–º–ø ¬°APROBADO! –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ä–∞–Ω–¥–æ–º–∞–π–∑–µ—Ä —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º–∏ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—è–º–∏." />
  <meta name="keywords" content="el credito, —ç–ª—å –∫—Ä–µ–¥–∏—Ç–æ, –∫—Ä–µ–¥–∏—Ç–Ω–∞—è —Ä—É–ª–µ—Ç–∫–∞, –º–µ–∫—Å–∏–∫–∞–Ω—Å–∫–∏–π –±–∞–Ω–∫, —Ä–∞–Ω–¥–æ–º–∞–π–∑–µ—Ä, –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª, –≤—ã–±–æ—Ä –ø–æ–±–µ–¥–∏—Ç–µ–ª—è, –æ–Ω–ª–∞–π–Ω —Ä–∞–Ω–¥–æ–º–∞–π–∑–µ—Ä, randomizer, random picker, –±–∞–Ω–∫–æ–≤—Å–∫–∞—è —Ä—É–ª–µ—Ç–∫–∞, —Å–ª—É—á–∞–π–Ω—ã–π –≤—ã–±–æ—Ä" />
  <meta name="author" content="Random Host" />
  <meta name="robots" content="index,follow,max-snippet:-1,max-image-preview:large,max-video-preview:-1" />

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://randomhost.ru/el-credito.html" />
  <meta property="og:title" content="El Cr√©dito - –ö—Ä–µ–¥–∏—Ç–Ω–∞—è –†—É–ª–µ—Ç–∫–∞ | –ú–µ–∫—Å–∏–∫–∞–Ω—Å–∫–∏–π –ë–∞–Ω–∫ –†–∞–Ω–¥–æ–º–∞–π–∑–µ—Ä" />
  <meta property="og:description" content="üè¶ –ú–µ–∫—Å–∏–∫–∞–Ω—Å–∫–∞—è –∫—Ä–µ–¥–∏—Ç–Ω–∞—è —Ä—É–ª–µ—Ç–∫–∞! –ü–æ–¥–∞–π –∑–∞—è–≤–∫—É –Ω–∞ –∫—Ä–µ–¥–∏—Ç –¥–æ 50,000 –ø–µ—Å–æ –∏ —É–∑–Ω–∞–π, –∫—Ç–æ –ø–æ–ª—É—á–∏—Ç –∑–æ–ª–æ—Ç–æ–π —à—Ç–∞–º–ø ¬°APROBADO! –û–Ω–ª–∞–π–Ω —Ä–∞–Ω–¥–æ–º–∞–π–∑–µ—Ä —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º–∏ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—è–º–∏." />
  <meta property="og:image" content="https://randomhost.ru/og-el-credito.png" />
  <meta property="og:locale" content="ru_RU" />
  <meta property="og:site_name" content="Random Host - –û–Ω–ª–∞–π–Ω –†–∞–Ω–¥–æ–º–∞–π–∑–µ—Ä—ã" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:url" content="https://randomhost.ru/el-credito.html" />
  <meta name="twitter:title" content="El Cr√©dito - –ö—Ä–µ–¥–∏—Ç–Ω–∞—è –†—É–ª–µ—Ç–∫–∞ | –ú–µ–∫—Å–∏–∫–∞–Ω—Å–∫–∏–π –ë–∞–Ω–∫ –†–∞–Ω–¥–æ–º–∞–π–∑–µ—Ä" />
  <meta name="twitter:description" content="üè¶ –ú–µ–∫—Å–∏–∫–∞–Ω—Å–∫–∞—è –∫—Ä–µ–¥–∏—Ç–Ω–∞—è —Ä—É–ª–µ—Ç–∫–∞! –ü–æ–¥–∞–π –∑–∞—è–≤–∫—É –Ω–∞ –∫—Ä–µ–¥–∏—Ç –¥–æ 50,000 –ø–µ—Å–æ –∏ —É–∑–Ω–∞–π, –∫—Ç–æ –ø–æ–ª—É—á–∏—Ç –∑–æ–ª–æ—Ç–æ–π —à—Ç–∞–º–ø ¬°APROBADO!" />
  <meta name="twitter:image" content="https://randomhost.ru/og-el-credito.png" />

  <!-- Additional SEO Meta Tags -->
  <meta name="language" content="Russian" />
  <meta name="revisit-after" content="7 days" />
  <meta name="rating" content="general" />
  <meta name="distribution" content="global" />
  <link rel="canonical" href="https://randomhost.ru/el-credito.html" />

  <!-- Icons -->
  <link rel="icon" href="https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/svg/1f335.svg" type="image/svg+xml">
  <meta name="theme-color" content="#c2410c">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;800&display=swap" rel="stylesheet">

  <!-- Structured Data / Schema.org -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "El Cr√©dito - –ö—Ä–µ–¥–∏—Ç–Ω–∞—è –†—É–ª–µ—Ç–∫–∞",
    "alternateName": "–≠–ª—å –ö—Ä–µ–¥–∏—Ç–æ",
    "url": "https://randomhost.ru/el-credito.html",
    "description": "–û–Ω–ª–∞–π–Ω —Ä–∞–Ω–¥–æ–º–∞–π–∑–µ—Ä –≤ —Å—Ç–∏–ª–µ –º–µ–∫—Å–∏–∫–∞–Ω—Å–∫–æ–≥–æ –±–∞–Ω–∫–∞. –ö—Ä–µ–¥–∏—Ç–Ω–∞—è —Ä—É–ª–µ—Ç–∫–∞ –¥–ª—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞ –ø–æ–±–µ–¥–∏—Ç–µ–ª—è —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º–∏ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—è–º–∏.",
    "applicationCategory": "GameApplication",
    "operatingSystem": "Any",
    "browserRequirements": "Requires JavaScript. Requires HTML5.",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "RUB"
    },
    "featureList": [
      "–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞",
      "–û—Ç 2 –¥–æ 20 —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤",
      "–ú–µ–∫—Å–∏–∫–∞–Ω—Å–∫–∞—è –±–∞–Ω–∫–æ–≤—Å–∫–∞—è —Ç–µ–º–∞—Ç–∏–∫–∞",
      "–î—Ä–∞–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –≤—ã–±–æ—Ä–∞ –ø–æ–±–µ–¥–∏—Ç–µ–ª—è",
      "–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤ –±—Ä–∞—É–∑–µ—Ä–µ"
    ],
    "screenshot": "https://randomhost.ru/screenshots/el-credito.png",
    "aggregateRating": {
      "@type": "AggregateRating",
      "ratingValue": "4.8",
      "ratingCount": "127",
      "bestRating": "5",
      "worstRating": "1"
    },
    "creator": {
      "@type": "Organization",
      "name": "Random Host",
      "url": "https://randomhost.ru"
    },
    "inLanguage": "ru-RU",
    "isAccessibleForFree": true,
    "keywords": "—Ä–∞–Ω–¥–æ–º–∞–π–∑–µ—Ä, –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª, –≤—ã–±–æ—Ä –ø–æ–±–µ–¥–∏—Ç–µ–ª—è, –∫—Ä–µ–¥–∏—Ç–Ω–∞—è —Ä—É–ª–µ—Ç–∫–∞, –º–µ–∫—Å–∏–∫–∞–Ω—Å–∫–∏–π –±–∞–Ω–∫, –æ–Ω–ª–∞–π–Ω —Ä–∞–Ω–¥–æ–º–∞–π–∑–µ—Ä"
  }
  </script>

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      {
        "@type": "ListItem",
        "position": 1,
        "name": "–ì–ª–∞–≤–Ω–∞—è",
        "item": "https://randomhost.ru/"
      },
      {
        "@type": "ListItem",
        "position": 2,
        "name": "El Cr√©dito",
        "item": "https://randomhost.ru/el-credito.html"
      }
    ]
  }
  </script>

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      -webkit-tap-highlight-color: transparent;
    }

    :root {
      --safe-top: env(safe-area-inset-top, 0px);
      --safe-right: env(safe-area-inset-right, 0px);
      --safe-bottom: env(safe-area-inset-bottom, 0px);
      --safe-left: env(safe-area-inset-left, 0px);
    }

    body {
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      padding: 20px;
      background: linear-gradient(135deg, #d97706 0%, #c2410c 50%, #7c2d12 100%);
      font-family: 'Montserrat', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      touch-action: manipulation;
      position: relative;
      overflow-x: hidden;
    }

    body::before {
      content: 'üåµ';
      position: fixed;
      bottom: 20px;
      right: 20px;
      font-size: 100px;
      opacity: 0.25;
      z-index: -1;
      pointer-events: none;
      filter: drop-shadow(0 4px 8px rgba(0,0,0,0.3));
      animation: sway 4s ease-in-out infinite;
    }

    body::after {
      content: 'üåµ';
      position: fixed;
      bottom: 20px;
      left: 20px;
      font-size: 100px;
      opacity: 0.25;
      z-index: -1;
      pointer-events: none;
      filter: drop-shadow(0 4px 8px rgba(0,0,0,0.3));
      animation: sway 4s ease-in-out infinite 2s;
    }

    @keyframes sway {
      0%, 100% { transform: rotate(-2deg); }
      50% { transform: rotate(2deg); }
    }

    /* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã */
    .main-container::before {
      content: 'üå∂Ô∏è';
      position: fixed;
      top: 15%;
      left: 8%;
      font-size: 60px;
      opacity: 0.25;
      z-index: -1;
      pointer-events: none;
      transform: rotate(-15deg);
      filter: drop-shadow(0 3px 6px rgba(0,0,0,0.4));
      animation: float 6s ease-in-out infinite;
    }

    .main-container::after {
      content: 'üé∫';
      position: fixed;
      top: 20%;
      right: 10%;
      font-size: 55px;
      opacity: 0.25;
      z-index: -1;
      pointer-events: none;
      transform: rotate(15deg);
      filter: drop-shadow(0 3px 6px rgba(0,0,0,0.4));
      animation: float 5s ease-in-out infinite 1s;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0) rotate(-15deg); }
      50% { transform: translateY(-15px) rotate(-15deg); }
    }

    /* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–∞ —Ñ–æ–Ω–µ */
    .game-container::before {
      content: 'ü™á';
      position: fixed;
      bottom: 25%;
      left: 5%;
      font-size: 50px;
      opacity: 0.2;
      z-index: -1;
      pointer-events: none;
      transform: rotate(25deg);
      filter: drop-shadow(0 3px 6px rgba(0,0,0,0.4));
    }

    .game-container::after {
      content: 'üåÆ';
      position: fixed;
      top: 60%;
      right: 7%;
      font-size: 45px;
      opacity: 0.2;
      z-index: -1;
      pointer-events: none;
      transform: rotate(-20deg);
      filter: drop-shadow(0 3px 6px rgba(0,0,0,0.4));
    }

    /* –ü–µ—Ä–µ–∫–∞—Ç–∏-–ø–æ–ª–µ */
    .tumbleweed {
      position: fixed;
      bottom: 25%;
      left: -120px;
      width: 80px;
      height: 80px;
      opacity: 0.4;
      z-index: -1;
      pointer-events: none;
      animation: rollTumbleweed 25s linear infinite;
      filter: drop-shadow(0 4px 8px rgba(0,0,0,0.5));
      background-image: url('data:image/svg+xml;charset=utf-8,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"%3E%3Cg fill="%23a0826d" opacity="0.9"%3E%3Ccircle cx="50" cy="50" r="40"/%3E%3Cpath d="M30 50 Q20 30 30 20 M70 50 Q80 30 70 20 M50 30 Q30 20 20 30 M50 30 Q70 20 80 30 M30 70 Q20 80 30 90 M70 70 Q80 80 70 90 M50 70 Q30 80 20 70 M50 70 Q70 80 80 70" stroke="%23896e58" stroke-width="2" fill="none"/%3E%3Ccircle cx="35" cy="35" r="3"/%3E%3Ccircle cx="65" cy="35" r="3"/%3E%3Ccircle cx="50" cy="25" r="3"/%3E%3Ccircle cx="35" cy="65" r="3"/%3E%3Ccircle cx="65" cy="65" r="3"/%3E%3Ccircle cx="50" cy="75" r="3"/%3E%3Ccircle cx="25" cy="50" r="3"/%3E%3Ccircle cx="75" cy="50" r="3"/%3E%3C/g%3E%3C/svg%3E');
      background-size: contain;
      background-repeat: no-repeat;
    }

    @keyframes rollTumbleweed {
      0% {
        left: -120px;
        transform: rotate(0deg);
      }
      100% {
        left: calc(100vw + 120px);
        transform: rotate(720deg);
      }
    }

    /* ===== DESKTOP –ú–ï–ù–Æ ===== */
    .top-buttons {
      position: fixed;
      top: 20px;
      left: 20px;
      z-index: 1000;
    }

    .desktop-menu-toggle {
      position: relative;
      background: linear-gradient(135deg, rgba(217,119,6,0.9), rgba(194,65,12,0.9));
      backdrop-filter: blur(12px);
      color: #fff;
      border: 2px solid rgba(251,191,36,0.4);
      padding: 0;
      width: 56px;
      height: 56px;
      border-radius: 50%;
      font-size: 24px;
      cursor: pointer;
      box-shadow:
        0 4px 15px rgba(0,0,0,0.3),
        0 0 15px rgba(251,191,36,0.2);
      transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
      display: flex;
      align-items: center;
      justify-content: center;
      user-select: none;
      overflow: hidden;
    }

    .desktop-menu-toggle::before {
      content: '';
      position: absolute;
      inset: -2px;
      border-radius: 50%;
      background: linear-gradient(135deg, #fbbf24, #f59e0b, #fbbf24);
      background-size: 200% 200%;
      animation: gradientSpin 3s ease infinite;
      opacity: 0;
      transition: opacity 0.3s ease;
      z-index: -1;
    }

    @keyframes gradientSpin {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }

    .desktop-menu-toggle:hover::before {
      opacity: 1;
    }

    .desktop-menu-toggle:hover {
      transform: translateY(-3px) scale(1.05);
      box-shadow:
        0 8px 25px rgba(0,0,0,0.4),
        0 0 0 8px rgba(255,255,255,0.1);
      border-color: rgba(255,255,255,0.5);
    }

    .desktop-menu-toggle:active {
      transform: translateY(-1px) scale(0.98);
    }

    .menu-icon {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      width: 24px;
      height: 18px;
      position: relative;
      transition: transform 0.3s ease;
    }

    .menu-icon span {
      display: block;
      width: 100%;
      height: 3px;
      background: #fff;
      border-radius: 2px;
      position: absolute;
      left: 0;
      transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
      box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    }

    .menu-icon span:nth-child(1) {
      top: 0;
    }

    .menu-icon span:nth-child(2) {
      top: 50%;
      margin-top: -1.5px;
    }

    .menu-icon span:nth-child(3) {
      bottom: 0;
    }

    .desktop-menu-toggle:hover .menu-icon {
      transform: scale(1.1);
    }

    .desktop-menu-toggle.active .menu-icon span:nth-child(1) {
      top: 50%;
      margin-top: -1.5px;
      transform: rotate(45deg);
    }

    .desktop-menu-toggle.active .menu-icon span:nth-child(2) {
      opacity: 0;
      transform: rotate(180deg) scale(0);
    }

    .desktop-menu-toggle.active .menu-icon span:nth-child(3) {
      bottom: auto;
      top: 50%;
      margin-top: -1.5px;
      transform: rotate(-45deg);
    }

    .desktop-dropdown {
      position: absolute;
      top: 100%;
      left: 0;
      margin-top: 15px;
      background: linear-gradient(135deg, rgba(124,45,18,0.95), rgba(153,27,27,0.95));
      backdrop-filter: blur(20px);
      border-radius: 16px;
      box-shadow:
        0 10px 40px rgba(0,0,0,0.5),
        0 0 0 1px rgba(251,191,36,0.3) inset,
        0 0 20px rgba(251,191,36,0.2);
      overflow: hidden;
      max-height: 0;
      opacity: 0;
      transform: translateY(-10px);
      transition:
        max-height 0.1s ease,
        opacity 0.1s ease,
        transform 0.1s ease;
      min-width: 240px;
    }

    .desktop-dropdown.active {
      max-height: 600px;
      opacity: 1;
      transform: translateY(0);
    }

    .desktop-dropdown a {
      position: relative;
      display: flex;
      align-items: center;
      gap: 14px;
      padding: 16px 20px;
      color: #fff;
      text-decoration: none;
      font-size: 16px;
      font-weight: 600;
      border-bottom: 1px solid rgba(255,255,255,0.08);
      transition: all 0.3s ease;
      overflow: hidden;
    }

    .desktop-dropdown a::before {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      bottom: 0;
      width: 4px;
      background: linear-gradient(135deg, #fbbf24, #f59e0b);
      transform: translateX(-4px);
      transition: transform 0.3s ease;
    }

    .desktop-dropdown a::after {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(90deg, rgba(217,119,6,0.3), transparent);
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .desktop-dropdown a:last-child {
      border-bottom: none;
    }

    .desktop-dropdown a:hover {
      background: rgba(217,119,6,0.3);
      padding-left: 24px;
      color: #fcd34d;
      text-shadow: 0 0 10px rgba(252,211,77,0.5);
    }

    .desktop-dropdown a:hover::before {
      transform: translateX(0);
    }

    .desktop-dropdown a:hover::after {
      opacity: 1;
    }

    .desktop-dropdown a:active {
      background: rgba(194,65,12,0.4);
      transform: scale(0.98);
    }

    .desktop-dropdown a span:first-child {
      font-size: 20px;
      filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));
      transition: transform 0.3s ease;
    }

    .desktop-dropdown a:hover span:first-child {
      transform: scale(1.2) rotate(10deg);
    }

    /* ===== MOBILE –ú–ï–ù–Æ (–°–ö–†–´–¢–û –ü–û –î–ï–§–û–õ–¢–£ –ù–ê DESKTOP) ===== */
    .menu-container {
      display: none;
    }

    /* ===== –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ô–ù–ï–† ===== */
    .main-container {
      display: flex;
      flex-direction: row-reverse;
      gap: 40px;
      align-items: center;
      max-width: 1200px;
      width: 100%;
    }

    .game-container {
      flex: 1;
      text-align: center;
      perspective: 1000px;
      position: relative;
    }

    .game-field {
      width: 100%;
      min-height: 400px;
      position: relative;
      border-radius: 20px;
      overflow: visible;
      border: 3px solid rgba(255,255,255,0.15);
      box-shadow:
        0 12px 40px rgba(0,0,0,0.5),
        0 0 40px rgba(217,119,6,0.35);
      background: rgba(255,255,255,0.05);
      backdrop-filter: blur(10px);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 15px;
    }

    /* ===== –ë–ê–ù–ö–û–í–°–ö–ò–ï –ö–ê–†–¢–û–ß–ö–ò ===== */
    .cards-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 12px;
      width: 100%;
      max-width: 600px;
      padding: 10px;
    }

    .cards-grid.four-columns {
      grid-template-columns: repeat(4, 1fr);
      max-width: 800px;
      gap: 10px;
    }

    .cards-grid.five-columns {
      grid-template-columns: repeat(5, 1fr);
      max-width: 1000px;
      gap: 8px;
    }

    .cards-grid.four-columns .bank-card {
      min-width: 90px;
      padding: 6px;
    }

    .cards-grid.four-columns .participant-name {
      font-size: 13px;
    }

    .cards-grid.four-columns .card-emoji {
      font-size: 20px;
    }

    .cards-grid.four-columns .card-amount {
      font-size: 9px;
    }

    .cards-grid.four-columns .card-header {
      font-size: 7px;
    }

    /* –î–æ 9 —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ - –±–æ–ª—å—à–∏–µ –∏–º–µ–Ω–∞ */
    .cards-grid:not(.four-columns):not(.five-columns) .participant-name {
      font-size: 20px;
    }

    .cards-grid:not(.four-columns):not(.five-columns) .card-header {
      font-size: 10px;
    }

    .cards-grid:not(.four-columns):not(.five-columns) .card-amount {
      font-size: 12px;
    }

    /* –û—Ç 10 –¥–æ 12 —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ - –µ—â–µ –±–æ–ª—å—à–µ */
    .cards-grid.four-columns.medium-group .participant-name {
      font-size: 17px;
    }

    /* 13-16 —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –º–µ–Ω—å—à–µ */
    .cards-grid.four-columns.large-group {
      max-width: 600px;
      gap: 6px;
    }

    .cards-grid.four-columns.large-group .bank-card {
      min-width: 55px;
      padding: 4px;
    }

    .cards-grid.four-columns.large-group .participant-name {
      font-size: 14px;
    }

    .cards-grid.four-columns.large-group .card-emoji {
      font-size: 17px;
    }

    .cards-grid.four-columns.large-group .card-amount {
      font-size: 8px;
    }

    .cards-grid.four-columns.large-group .card-header {
      font-size: 6px;
    }

    /* –ë–æ–ª–µ–µ 16 —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ - –º–µ–Ω—å—à–µ */
    .cards-grid.four-columns:not(.medium-group):not(.large-group) .participant-name {
      font-size: 13px;
    }

    .cards-grid.five-columns .participant-name {
      font-size: 13px;
    }

    .bank-card {
      position: relative;
      background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
      border: 2px solid #92400e;
      border-radius: 12px;
      padding: 10px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
      transition: all 0.3s ease;
      cursor: default;
      overflow: hidden;
      aspect-ratio: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: space-between;
    }

    .bank-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background:
        repeating-linear-gradient(
          45deg,
          transparent,
          transparent 8px,
          rgba(146,64,14,0.02) 8px,
          rgba(146,64,14,0.02) 16px
        );
      pointer-events: none;
      z-index: 0;
    }

    .bank-card > * {
      position: relative;
      z-index: 1;
    }

    .card-header {
      font-size: 8px;
      font-weight: 800;
      color: #92400e;
      text-align: center;
      letter-spacing: 0.3px;
      width: 100%;
      line-height: 1.2;
    }

    .participant-name {
      font-size: 18px;
      font-weight: 800;
      color: #1c1917;
      text-align: center;
      word-break: break-word;
      line-height: 1.1;
      max-width: 100%;
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .card-amount {
      font-size: 10px;
      font-weight: 700;
      color: #059669;
      text-align: center;
      width: 100%;
    }

    .card-emoji {
      font-size: 20px;
      margin-top: 2px;
    }

    .probability-display {
      display: none;
    }

    .stamp {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) rotate(-15deg);
      font-size: 18px;
      font-weight: 900;
      padding: 4px 8px;
      border: 2px solid;
      border-radius: 4px;
      text-transform: uppercase;
      letter-spacing: 1px;
      opacity: 0;
      pointer-events: none;
      z-index: 10;
      text-align: center;
      white-space: nowrap;
      line-height: 1;
    }

    .stamp.rejected {
      color: #ef4444;
      border-color: #ef4444;
      background: rgba(239,68,68,0.15);
      font-size: 13px;
      padding: 3px 6px;
      max-width: 90%;
      white-space: normal;
      line-height: 1.1;
      letter-spacing: 0.5px;
    }

    .stamp.approved {
      color: #10b981;
      border-color: #059669;
      background: rgba(5,150,105,0.65);
      font-size: 19px;
      text-shadow:
        0 0 10px rgba(16,185,129,0.9),
        0 0 20px rgba(16,185,129,0.6),
        0 2px 4px rgba(0,0,0,0.4);
      padding: 5px 9px;
      box-shadow: 0 0 20px rgba(5,150,105,0.6);
    }

    /* ===== –ê–ù–ò–ú–ê–¶–ò–ò ===== */
    @keyframes stampFall {
      0% {
        opacity: 0;
        transform: translate(-50%, -200%) rotate(-15deg) scale(0.5);
      }
      60% {
        opacity: 1;
        transform: translate(-50%, -50%) rotate(-15deg) scale(1.1);
      }
      100% {
        opacity: 1;
        transform: translate(-50%, -50%) rotate(-15deg) scale(1);
      }
    }

    @keyframes cardShake {
      0%, 100% { transform: translateX(0) rotate(0deg); }
      25% { transform: translateX(-3px) rotate(-1deg); }
      75% { transform: translateX(3px) rotate(1deg); }
    }

    @keyframes cardFadeOut {
      0% {
        opacity: 1;
        filter: brightness(1) grayscale(0);
        transform: scale(1);
      }
      100% {
        opacity: 0.25;
        filter: brightness(0.4) grayscale(1);
        transform: scale(0.95);
      }
    }

    @keyframes winnerGlow {
      0%, 100% {
        box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        transform: scale(1);
      }
      50% {
        box-shadow: 0 0 40px rgba(255,215,0,0.8), 0 0 80px rgba(255,215,0,0.5);
        transform: scale(1.05);
      }
    }

    @keyframes winnerScale {
      0% {
        transform: scale(1);
      }
      50% {
        transform: scale(1.1);
      }
      100% {
        transform: scale(1.05);
      }
    }

    .bank-card.shaking {
      animation: cardShake 0.2s ease-in-out infinite;
    }

    .bank-card.rejected {
      animation: cardFadeOut 0.35s ease forwards;
    }

    .bank-card.rejected .stamp.rejected {
      animation: stampFall 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
    }

    .bank-card.winner {
      animation: winnerGlow 1.2s ease-in-out infinite, winnerScale 0.6s ease forwards;
      z-index: 100;
    }

    .bank-card.winner .stamp.approved {
      animation: stampFall 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
    }

    /* ===== –ö–û–ù–§–ï–¢–¢–ò ===== */
    .confetti {
      position: fixed;
      width: 10px;
      height: 10px;
      background: #FFD700;
      position: absolute;
      animation: confettiFall 3s ease-out forwards;
    }

    @keyframes confettiFall {
      0% {
        transform: translateY(0) rotate(0deg);
        opacity: 1;
      }
      100% {
        transform: translateY(1000px) rotate(720deg);
        opacity: 0;
      }
    }

    /* ===== –°–û–û–ë–©–ï–ù–ò–ï –ü–û–ë–ï–î–ò–¢–ï–õ–Ø ===== */
    .winner-message {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: linear-gradient(135deg, #10b981 0%, #059669 50%, #047857 100%);
      color: #fff;
      padding: 40px 60px;
      border-radius: 24px;
      font-size: 28px;
      font-weight: 800;
      box-shadow:
        0 20px 60px rgba(0,0,0,0.6),
        0 0 100px rgba(5,150,105,0.8),
        inset 0 2px 0 rgba(255,255,255,0.3),
        inset 0 -2px 20px rgba(0,0,0,0.2);
      opacity: 0;
      z-index: 9999;
      text-align: center;
      border: 5px solid #fcd34d;
      animation: winnerMessageAppear 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
      max-width: 90%;
      text-shadow: 2px 2px 8px rgba(0,0,0,0.5);
    }

    .winner-message::after {
      content: '';
      position: absolute;
      inset: -10px;
      background: linear-gradient(45deg,
        transparent 0%,
        rgba(255,215,0,0.3) 25%,
        transparent 50%,
        rgba(255,215,0,0.3) 75%,
        transparent 100%);
      border-radius: 28px;
      z-index: -1;
      animation: shimmer 2s linear infinite;
      background-size: 200% 200%;
      pointer-events: none;
    }

    @keyframes shimmer {
      0% { background-position: 0% 0%; }
      100% { background-position: 200% 200%; }
    }

    @keyframes winnerMessageAppear {
      0% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.3) rotateY(90deg);
      }
      50% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1.1) rotateY(0deg);
      }
      100% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1) rotateY(0deg);
      }
    }

    .winner-message-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.7);
      backdrop-filter: blur(5px);
      z-index: 9998;
      opacity: 0;
      animation: overlayAppear 0.4s ease forwards;
      pointer-events: auto;
    }

    body.showing-winner {
      overflow: hidden;
      height: 100vh;
    }

    @keyframes overlayAppear {
      0% { opacity: 0; }
      100% { opacity: 1; }
    }

    .settings-panel {
      width: 450px;
      padding: 30px;
      border-radius: 20px;
      background: rgba(255,255,255,0.1);
      backdrop-filter: blur(10px);
      box-shadow: 0 8px 32px rgba(0,0,0,0.1);
      overflow: hidden;
    }

    .settings-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 15px;
    }

    .settings-title {
      color: #fff;
      font-size: 24px;
      font-weight: 700;
      margin: 0;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
    }

    .settings-actions {
      display: flex;
      gap: 8px;
    }

    .equalize-btn, .collapse-btn {
      padding: 8px 18px;
      background: linear-gradient(135deg, #059669 0%, #047857 100%);
      color: #fff;
      border: 2px solid #92400e;
      border-radius: 10px;
      cursor: pointer;
      font-size: 14px;
      font-weight: 700;
      transition: all 0.3s ease;
      white-space: nowrap;
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
      letter-spacing: 0.5px;
      text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
      position: relative;
      overflow: hidden;
    }

    .equalize-btn::before, .collapse-btn::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      border-radius: 50%;
      background: rgba(255,255,255,0.2);
      transform: translate(-50%, -50%);
      transition: width 0.6s, height 0.6s;
    }

    .equalize-btn:hover::before, .collapse-btn:hover::before {
      width: 300px;
      height: 300px;
    }

    .collapse-btn {
      display: none;
    }

    .equalize-btn:hover, .collapse-btn:hover {
      background: linear-gradient(135deg, #10b981 0%, #059669 100%);
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(5,150,105,0.5);
      border-color: #78716c;
    }

    .equalize-btn:active, .collapse-btn:active {
      transform: translateY(0px);
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);
    }

    .names-list-wrapper {
      transition: max-height 0.3s ease;
    }

    .names-list-wrapper.collapsed {
      max-height: 0;
      overflow: hidden;
    }

    .names-list {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-bottom: 20px;
      max-height: 500px;
      overflow-y: auto;
      scrollbar-width: none;
      -ms-overflow-style: none;
      padding-right: 5px;
    }
    .names-list::-webkit-scrollbar {
      display: none;
    }

    .headers-row {
      display: flex;
      align-items: center;
      gap: 0px;
      margin-bottom: 10px;
      padding: 0 5px;
    }

    .header-name {
      flex: 1;
      color: rgba(255,255,255,0.7);
      font-size: 14px;
      font-weight: 600;
      text-align: left;
    }

    .header-probability {
      color: rgba(255,255,255,0.7);
      font-size: 14px;
      font-weight: 600;
      text-align: center;
      width: 150px;
      padding-left: 0px;
      flex-shrink: 0;
    }

    .header-remove {
      width: 44px;
    }

    .name-item {
      display: flex;
      gap: 8px;
      align-items: center;
      flex-wrap: nowrap;
    }

    .name-input {
      flex: 1 1 auto;
      min-width: 120px;
      padding: 10px 15px;
      border: 2px solid rgba(255,255,255,0.2);
      border-radius: 10px;
      background: rgba(255,255,255,0.1);
      color: #fff;
      font-size: 16px;
      transition: 0.3s;
    }
    .name-input:focus {
      outline: none;
      border-color: rgba(255,255,255,0.5);
      background: rgba(255,255,255,0.2);
    }
    .name-input::placeholder {
      color: rgba(255,255,255,0.5);
    }

    .name-input.error-state {
      border-color: #ef4444 !important;
      background: rgba(239,68,68,0.1) !important;
    }

    .name-input.error-state::placeholder {
      color: rgba(255, 255, 255, 0.7);
    }

    .probability-controls {
      display: flex;
      gap: 5px;
      width: 130px;
      flex-shrink: 0;
    }

    .prob-btn {
      padding: 5px 10px;
      background: rgba(255,255,255,0.2);
      color: #fff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 14px;
      font-weight: 600;
      transition: 0.2s;
      flex-shrink: 0;
    }

    .prob-btn:hover {
      background: rgba(255,255,255,0.3);
      transform: scale(1.05);
    }

    .prob-btn:active {
      transform: scale(0.95);
    }

    .probability-input {
      width: 60px;
      padding: 4px;
      background: rgba(255,255,255,0.1);
      color: #ffd43b;
      border: 2px solid rgba(255,212,59,0.3);
      border-radius: 5px;
      text-align: center;
      font-weight: 800;
      font-size: 14px;
      transition: 0.2s;
      flex-shrink: 0;
    }

    .probability-input::-webkit-outer-spin-button,
    .probability-input::-webkit-inner-spin-button {
      -webkit-appearance: none;
      appearance: none;
      margin: 0;
    }

    .probability-input[type=number] {
      -moz-appearance: textfield;
      appearance: textfield;
    }

    .probability-input.error {
      border-color: #ef4444;
      background: rgba(239,68,68,0.2);
    }

    .probability-input.manual {
      background: rgba(255,244,204,0.25);
      border-color: #F59E0B;
      box-shadow: 0 0 0 3px rgba(245,158,11,0.25);
    }

    .prob-btn,
    .remove-btn,
    .add-btn-small {
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    }

    .equalize-btn {
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    }

    .prob-btn:hover,
    .remove-btn:hover,
    .add-btn-small:hover,
    .equalize-btn:hover {
      box-shadow: 0 6px 16px rgba(0,0,0,0.3);
    }

    .probability-input:focus {
      outline: none;
      border-color: rgba(255,212,59,0.6);
      background: rgba(255,255,255,0.15);
    }

    .remove-btn {
      padding: 8px 12px;
      background: rgba(239,68,68,0.2);
      color: #fff;
      border: 2px solid rgba(239,68,68,0.3);
      border-radius: 8px;
      cursor: pointer;
      font-size: 18px;
      font-weight: 700;
      transition: 0.2s;
      width: 44px;
      flex-shrink: 0;
    }

    .remove-btn:hover {
      background: rgba(239,68,68,0.4);
      border-color: rgba(239,68,68,0.5);
      transform: scale(1.05);
    }

    .remove-btn:active {
      transform: scale(0.95);
    }

    .add-name-container {
      display: flex;
      gap: 10px;
      margin-top: 15px;
    }

    .add-btn-small {
      padding: 10px 15px;
      background: linear-gradient(135deg, rgba(5,150,105,0.85), rgba(4,120,87,0.85));
      color: #fff;
      border: 2px solid rgba(255,255,255,0.3);
      border-radius: 10px;
      cursor: pointer;
      font-size: 20px;
      transition: all 0.3s ease;
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
    }
    .add-btn-small:hover {
      background: linear-gradient(135deg, rgba(5,150,105,1), rgba(4,120,87,1));
      transform: translateY(-2px) scale(1.05);
      box-shadow: 0 6px 16px rgba(5,150,105,0.4);
      border-color: rgba(255,255,255,0.5);
    }

    .add-btn-small:active {
      transform: translateY(0) scale(0.98);
    }

    .start-btn {
      width: auto;
      min-width: 240px;
      padding: 16px 40px;
      font-size: 20px;
      font-weight: 800;
      border: 3px solid #92400e;
      border-radius: 16px;
      background: linear-gradient(135deg, #059669 0%, #047857 100%);
      color: #fff;
      cursor: pointer;
      box-shadow:
        0 6px 20px rgba(0,0,0,0.3),
        0 0 30px rgba(5,150,105,0.4);
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
      touch-action: manipulation;
      margin-top: 20px;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
      letter-spacing: 1px;
    }

    .start-btn:before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      border-radius: 50%;
      background: rgba(255,255,255,0.2);
      transform: translate(-50%, -50%);
      transition: width 0.6s, height 0.6s;
    }

    .start-btn:hover:not(:disabled):before {
      width: 400px;
      height: 400px;
    }

    .start-btn:hover:not(:disabled) {
      transform: translateY(-3px) scale(1.02);
      box-shadow:
        0 8px 25px rgba(0,0,0,0.4),
        0 0 40px rgba(5,150,105,0.6);
      border-color: #78716c;
    }

    .start-btn:active:not(:disabled) {
      transform: translateY(-1px) scale(0.99);
    }

    .start-btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      background: linear-gradient(135deg, rgba(5,150,105,0.5), rgba(4,120,87,0.5));
    }

    button:disabled,
    input:disabled {
      opacity: 0.5;
      cursor: not-allowed !important;
    }

    .error-message {
      color: #fff;
      font-size: 13px;
      margin-top: 8px;
      min-height: 16px;
    }

    /* –¢—É–ª—Ç–∏–ø –¥–ª—è –æ—à–∏–±–æ–∫ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π */
    .probability-error-tooltip {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: linear-gradient(135deg, rgba(239,68,68,0.95), rgba(220,38,38,0.95));
      color: #fff;
      padding: 20px 30px;
      border-radius: 15px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.4);
      z-index: 1002;
      font-weight: 700;
      font-size: 16px;
      text-align: center;
      backdrop-filter: blur(10px);
      border: 2px solid rgba(255,255,255,0.3);
      animation: tooltipAppear 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    }

    @keyframes tooltipAppear {
      from {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.8);
      }
      to {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
      }
    }

    /* ===== RESPONSIVE ===== */
    @media (max-width: 1024px) {
      .main-container {
        flex-direction: column;
      }

      .settings-panel {
        width: 100%;
        max-width: 500px;
      }

      .game-container {
        width: 100%;
      }
    }

    @media (max-width: 918px) {
      html, body {
        max-width: 100%;
        overflow-x: hidden;
      }
      body {
        padding: calc(66px + var(--safe-top)) var(--safe-right) calc(20px + var(--safe-bottom)) var(--safe-left);
      }

      .top-buttons {
        display: none;
      }

      .menu-container {
        display: block;
        position: fixed;
        top: var(--safe-top);
        left: var(--safe-left);
        right: var(--safe-right);
        z-index: 1000;
        padding: 12px 16px;
        background: linear-gradient(180deg, rgba(217,119,6,0.95) 0%, rgba(194,65,12,0.9) 50%, rgba(124,45,18,0.9) 100%);
        backdrop-filter: blur(10px);
        box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        border-bottom: 2px solid rgba(251,191,36,0.3);
      }

      .menu-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
      }

      .menu-title {
        color: #fff;
        font-size: 18px;
        font-weight: 700;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
      }

      .burger-btn {
        background: rgba(255,255,255,0.2);
        border: 2px solid rgba(255,255,255,0.3);
        border-radius: 8px;
        padding: 8px 12px;
        cursor: pointer;
        display: flex;
        flex-direction: column;
        gap: 4px;
        transition: all 0.3s ease;
      }

      .burger-btn:hover {
        background: rgba(255,255,255,0.3);
      }

      .burger-btn span {
        display: block;
        width: 24px;
        height: 3px;
        background: #fff;
        border-radius: 2px;
        transition: all 0.3s ease;
      }

      .burger-btn.active span:nth-child(1) {
        transform: rotate(45deg) translateY(7px);
      }

      .burger-btn.active span:nth-child(2) {
        opacity: 0;
      }

      .burger-btn.active span:nth-child(3) {
        transform: rotate(-45deg) translateY(-7px);
      }

      .menu-dropdown {
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        background: linear-gradient(180deg, rgba(194,65,12,0.98) 0%, rgba(153,27,27,0.98) 50%, rgba(124,45,18,0.98) 100%);
        backdrop-filter: blur(10px);
        max-height: 0;
        opacity: 0;
        overflow: hidden;
        transform: scaleY(0);
        transform-origin: top;
        transition: max-height 0.1s ease, opacity 0.1s ease, transform 0.1s ease;
        border-bottom: 2px solid rgba(251,191,36,0.3);
      }

      .menu-dropdown.active {
        max-height: 500px;
        opacity: 1;
        transform: scaleY(1);
      }

      .menu-dropdown a {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 16px 20px;
        color: #fff;
        text-decoration: none;
        font-size: 16px;
        font-weight: 600;
        border-bottom: 1px solid rgba(255,255,255,0.1);
        transition: background 0.2s;
      }

      .menu-dropdown a:last-child {
        border-bottom: none;
      }

      .menu-dropdown a:hover {
        background: rgba(217,119,6,0.3);
      }

      .menu-dropdown a:active {
        background: rgba(217,119,6,0.5);
      }

      .main-container {
        flex-direction: column;
        gap: 20px;
      }

      .collapse-btn {
        display: block;
      }

      .game-field {
        min-height: 400px;
      }

      .name-item {
        display: flex;
        align-items: center;
        gap: 8px;
        flex-wrap: nowrap;
      }

      .name-item .name-input {
        flex: 1;
        min-width: 0;
      }

      .name-item .probability-controls {
        flex-shrink: 0;
      }

      .name-item .remove-btn {
        flex-shrink: 0;
      }

      .names-list-wrapper {
        max-height: none;
      }

      .names-list {
        max-height: none;
        overflow-y: visible;
        overflow: visible;
        width: 100%;
        max-width: 100%;
        flex: 1 1 auto;
      }

      .name-input.invalid {
        border-color: #ef4444 !important;
        background: rgba(239,68,68,0.1) !important;
      }

      .headers-row {
        padding: 0 2px;
      }

      h1 {
        font-size: clamp(24px, 6vw, 48px);
        margin-bottom: 30px;
        margin-top: 18px !important;
      }

      .probability-error-tooltip {
        max-width: 90%;
        padding: 16px 20px;
        font-size: 14px;
      }

      .add-name-container {
        display: flex;
        gap: 8px;
        margin-top: 15px;
      }

      .add-name-container .name-input {
        flex: 1;
        min-width: 0;
      }

      .add-btn-small {
        flex-shrink: 0;
        width: 44px;
        padding: 10px 0;
      }

      .settings-panel {
        width: 100%;
        max-width: 600px;
        padding: 20px 16px;
        margin: 0 auto;
      }

      .settings-header {
        flex-direction: column;
        align-items: stretch;
        gap: 8px;
        margin-bottom: 10px;
      }

      .settings-actions {
        display: flex;
        justify-content: space-between;
        width: 100%;
        gap: 8px;
        margin-bottom: 4px;
      }

      .settings-actions .equalize-btn {
        flex: 1;
        max-width: 100%;
        padding: 10px 0;
        font-size: 14px;
        text-align: center;
      }

      .cards-grid {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 10px;
        padding: 8px;
        max-width: 100%;
      }

      .cards-grid.four-columns,
      .cards-grid.five-columns {
        grid-template-columns: repeat(2, 1fr) !important;
      }

      .bank-card {
        padding: 8px;
      }

      .card-header {
        font-size: 7px;
      }

      .participant-name {
        font-size: 13px;
      }

      .card-emoji {
        font-size: 16px;
      }

      .card-amount {
        font-size: 8px;
      }

      .stamp {
        font-size: 12px;
        padding: 2px 5px;
      }

      .stamp.approved {
        font-size: 14px;
        padding: 3px 6px;
      }

      .winner-message {
        font-size: 20px;
        padding: 30px 20px;
        max-width: 95%;
      }

      .winner-message::before {
        font-size: 45px;
        top: -25px;
      }

      body::before,
      body::after {
        font-size: 50px;
      }
    }
  </style>
</head>
<body>

  <!-- –ü–µ—Ä–µ–∫–∞—Ç–∏-–ø–æ–ª–µ -->
  <div class="tumbleweed"></div>

  <!-- Desktop Menu -->
  <div class="top-buttons">
    <button class="desktop-menu-toggle" id="desktopMenuToggle" aria-label="–ú–µ–Ω—é">
      <div class="menu-icon">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </button>
    <nav class="desktop-dropdown" id="desktopDropdown">
      <a href="index.html">üè† –ì–ª–∞–≤–Ω–∞—è</a>
      <a href="bingo.html">üé≤ –ë–∏–Ω–≥–æ</a>
      <a href="el-credito.html">üá≤üáΩ –ë–∞–Ω–∫</a>
      <a href="wheel-of-fortune.html">üé° –ö–æ–ª–µ—Å–æ –§–æ—Ä—Ç—É–Ω—ã</a>
      <a href="lottery-drum.html">üé± –õ–æ—Ç–æ—Ç—Ä–æ–Ω</a>
      <a href="crystal-ball.html">üîÆ –ú–∞–≥–∏—á–µ—Å–∫–∏–π –®–∞—Ä</a>
      <a href="plinko.html">üéØ –ü–ª–∏–Ω–∫–æ</a>
      <a href="racing.html">üèÅ –ì–æ–Ω–∫–∏</a>
      <a href="trading.html">üìà –¢—Ä–µ–π–¥–∏–Ω–≥</a>
      <a href="tournament.html">‚öîÔ∏è –¢—É—Ä–Ω–∏—Ä</a>
    </nav>
  </div>

  <!-- Mobile Menu -->
  <div class="menu-container">
    <div class="menu-header">
      <div class="menu-title">–†–ê–ù–î–û–ú–ê–ô–ó–ï–†</div>
      <button class="burger-btn" id="burgerBtn" aria-label="–ú–µ–Ω—é">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <nav class="menu-dropdown" id="menuDropdown">
      <a href="index.html">üè† –ì–ª–∞–≤–Ω–∞—è</a>
      <a href="bingo.html">üé≤ –ë–∏–Ω–≥–æ</a>
      <a href="el-credito.html">üá≤üáΩ –ë–∞–Ω–∫</a>
      <a href="wheel-of-fortune.html">üé° –ö–æ–ª–µ—Å–æ –§–æ—Ä—Ç—É–Ω—ã</a>
      <a href="lottery-drum.html">üé± –õ–æ—Ç–æ—Ç—Ä–æ–Ω</a>
      <a href="crystal-ball.html">üîÆ –ú–∞–≥–∏—á–µ—Å–∫–∏–π –®–∞—Ä</a>
      <a href="plinko.html">üéØ –ü–ª–∏–Ω–∫–æ</a>
      <a href="racing.html">üèÅ –ì–æ–Ω–∫–∏</a>
      <a href="trading.html">üìà –¢—Ä–µ–π–¥–∏–Ω–≥</a>
      <a href="tournament.html">‚öîÔ∏è –¢—É—Ä–Ω–∏—Ä</a>
    </nav>
  </div>

  <div class="main-container">
    <!-- Game Container -->
    <div class="game-container">
      <h1 style="color: #fff; text-align: center; font-size: 48px; font-weight: 800; margin-bottom: 20px; text-shadow: 3px 3px 6px rgba(0,0,0,0.5);">üá≤üáΩ –ë–∞–Ω–∫</h1>
      <div class="game-field" id="gameField">
        <div class="cards-grid" id="cardsGrid"></div>
      </div>
      <button class="start-btn" id="startBtn">–ó–∞–ø—Ä–æ—Å–∏—Ç—å –∫—Ä–µ–¥–∏—Ç</button>
    </div>

    <!-- Settings Panel -->
    <div class="settings-panel">
      <div class="settings-header">
        <h2 class="settings-title">–£—á–∞—Å—Ç–Ω–∏–∫–∏</h2>
        <div class="settings-actions">
          <button class="equalize-btn" id="equalizeBtn" title="–£—Ä–∞–≤–Ω—è—Ç—å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏">–£—Ä–∞–≤–Ω—è—Ç—å</button>
        </div>
      </div>

      <div class="names-list-wrapper" id="namesListWrapper">
        <div class="headers-row">
          <div class="header-name">–ò–º—è</div>
          <div class="header-probability">üìä –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å</div>
          <div class="header-remove"></div>
        </div>
        <div class="names-list" id="namesList"></div>
      </div>

      <div class="add-name-container">
        <input type="text" class="name-input" id="newNameInput" placeholder="–ù–æ–≤—ã–π —É—á–∞—Å—Ç–Ω–∏–∫" maxlength="15">
        <button class="add-btn-small" id="addNameBtn" title="–î–æ–±–∞–≤–∏—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–∞">‚ûï</button>
      </div>

      <div id="errorMessage" class="error-message"></div>
    </div>
  </div>

<script>
  const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || window.innerWidth < 768;

  const NAMES_KEY = 'shared_names_v1';
  const PROB_KEY = 'shared_probabilities_v2';
  const LOCKED_KEY = 'shared_locked_v1';
  const AMOUNTS_KEY = 'el_credito_amounts_v1';
  const MAX_PARTICIPANTS = 20;
  const MIN_PROBABILITY = 0.05; // 5%

  let names = ['–£—á–∞—Å—Ç–Ω–∏–∫ 1','–£—á–∞—Å—Ç–Ω–∏–∫ 2','–£—á–∞—Å—Ç–Ω–∏–∫ 3','–£—á–∞—Å—Ç–Ω–∏–∫ 4','–£—á–∞—Å—Ç–Ω–∏–∫ 5','–£—á–∞—Å—Ç–Ω–∏–∫ 6'];
  let probabilities = {};
  let lockedParticipants = {};
  let hasCustomProbabilities = false;
  let isLoadingFromStorage = false;
  let participantAmounts = {}; // –•—Ä–∞–Ω–µ–Ω–∏–µ —Å—É–º–º –∫—Ä–µ–¥–∏—Ç–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞

  const namesList = document.getElementById('namesList');
  const newNameInput = document.getElementById('newNameInput');
  const addNameBtn = document.getElementById('addNameBtn');
  const startBtn = document.getElementById('startBtn');
  const errorMessage = document.getElementById('errorMessage');
  const gameField = document.getElementById('gameField');
  const equalizeBtn = document.getElementById('equalizeBtn');
  const namesListWrapper = document.getElementById('namesListWrapper');

  const defaultNewNamePlaceholder = '–ù–æ–≤—ã–π —É—á–∞—Å—Ç–Ω–∏–∫';

  function resetNewNamePlaceholder() {
    newNameInput.placeholder = defaultNewNamePlaceholder;

    if (!newNameInput.value.trim()) {
      newNameInput.style.borderColor = 'rgba(255,255,255,0.2)';
      newNameInput.style.background = 'rgba(255,255,255,0.1)';
    }
  }

  newNameInput.addEventListener('focus', resetNewNamePlaceholder);
  newNameInput.addEventListener('click', resetNewNamePlaceholder);

  function showErrorTooltip(message) {
    const existing = document.querySelector('.probability-error-tooltip');
    if (existing) existing.remove();

    const tooltip = document.createElement('div');
    tooltip.className = 'probability-error-tooltip';
    tooltip.textContent = message;
    document.body.appendChild(tooltip);

    setTimeout(() => {
      tooltip.style.transition = 'opacity 0.3s ease, transform 0.3s ease';
      tooltip.style.opacity = '0';
      tooltip.style.transform = 'translate(-50%, -50%) scale(0.8)';
      setTimeout(() => tooltip.remove(), 300);
    }, 2000);
  }

  function clearErrorMessage() {
    if (errorMessage) errorMessage.textContent = '';
  }

  function saveState() {
    try {
      localStorage.setItem(NAMES_KEY, JSON.stringify(names));
      const cleanP = {};
      names.forEach((nm) => cleanP[nm] = probabilities[nm] ?? 0);
      const cleanLocked = {};
      names.forEach((nm) => { if (lockedParticipants[nm]) cleanLocked[nm] = true; });
      const cleanAmounts = {};
      names.forEach((nm) => { if (participantAmounts[nm]) cleanAmounts[nm] = participantAmounts[nm]; });
      localStorage.setItem(PROB_KEY, JSON.stringify({
        probabilities: cleanP,
        hasCustomProbabilities
      }));
      localStorage.setItem(LOCKED_KEY, JSON.stringify(cleanLocked));
      localStorage.setItem(AMOUNTS_KEY, JSON.stringify(cleanAmounts));
    } catch (e) {}
  }

  newNameInput.addEventListener('keydown', (e) => {
    if (newNameInput.value.length >= 15 &&
        !['Backspace', 'Delete', 'ArrowLeft', 'ArrowRight', 'Tab', 'Home', 'End'].includes(e.key) &&
        !e.ctrlKey && !e.metaKey) {

      newNameInput.style.borderColor = '#ef4444';
      newNameInput.style.background = 'rgba(239,68,68,0.1)';
      showErrorTooltip('–ù–µ –±–æ–ª–µ–µ 15 —Å–∏–º–≤–æ–ª–æ–≤');
    }
  });

  function equalizeProbabilities() {
    const count = Math.max(1, names.length);
    const p = 1 / count;
    probabilities = {};
    lockedParticipants = {};
    hasCustomProbabilities = false;
    names.forEach((n) => {
      probabilities[n] = p;
    });
    saveState();
    renderParticipants();
    validateAllNames();
    renderCards();
  }

  function validateAndFixProbabilities() {
    const belowMin = names.filter(n => (probabilities[n] ?? 0) < 0.05);

    if (belowMin.length === 0) {
      const sum = names.reduce((s, nm) => s + (probabilities[nm] || 0), 0);
      if (Math.abs(sum - 1) > 1e-4) {
        const k = 1 / sum;
        names.forEach((nm) => probabilities[nm] = (probabilities[nm] || 0) * k);
      }
      return;
    }

    belowMin.forEach(n => probabilities[n] = 0.05);

    const fixedSum = belowMin.length * 0.05;
    const others = names.filter(n => !belowMin.includes(n));

    if (others.length === 0) {
      equalizeProbabilities();
      return;
    }

    const othersSum = others.reduce((s, nm) => s + (probabilities[nm] || 0), 0);
    const remainForOthers = 1 - fixedSum;

    if (othersSum > 0) {
      const scale = remainForOthers / othersSum;
      others.forEach(nm => probabilities[nm] = (probabilities[nm] || 0) * scale);

      const stillBelowMin = others.some(nm => (probabilities[nm] ?? 0) < 0.05);

      if (stillBelowMin) {
        equalizeProbabilities();
      }
    } else {
      equalizeProbabilities();
    }
  }

  function loadState() {
    isLoadingFromStorage = true;

    try {
      const savedNames = JSON.parse(localStorage.getItem(NAMES_KEY) || '[]');
      if (Array.isArray(savedNames) && savedNames.length) {
        names = savedNames.slice(0, MAX_PARTICIPANTS);
        if (names.length === 1) {
          names.push('–£—á–∞—Å—Ç–Ω–∏–∫ 2');
        }
      } else {
        localStorage.setItem(NAMES_KEY, JSON.stringify(names));
      }
    } catch (e) {}

    try {
      const saved = JSON.parse(localStorage.getItem(PROB_KEY) || '{}');
      const savedLocked = JSON.parse(localStorage.getItem(LOCKED_KEY) || '{}');
      const savedAmounts = JSON.parse(localStorage.getItem(AMOUNTS_KEY) || '{}');

      // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å—É–º–º—ã –∫—Ä–µ–¥–∏—Ç–∞
      participantAmounts = { ...savedAmounts };
      Object.keys(participantAmounts).forEach((n) => { if (!names.includes(n)) delete participantAmounts[n]; });

      if (saved?.hasCustomProbabilities && saved?.probabilities && Object.keys(saved.probabilities).length) {
        probabilities = { ...saved.probabilities };
        lockedParticipants = { ...savedLocked };
        hasCustomProbabilities = true;

        Object.keys(probabilities).forEach((n) => { if (!names.includes(n)) delete probabilities[n]; });
        Object.keys(lockedParticipants).forEach((n) => { if (!names.includes(n)) delete lockedParticipants[n]; });

        names.forEach((n) => { if (!(n in probabilities)) probabilities[n] = 0.05; });

        normalizeProbabilities();
      } else {
        equalizeProbabilities();
      }
    } catch (e) {
      equalizeProbabilities();
    }

    isLoadingFromStorage = false;
  }

  function getPercent(name) {
    const n = Math.max(1, names.length);
    if (!(name in probabilities)) {
      return (100 / n).toFixed(1);
    }
    return (probabilities[name] * 100).toFixed(1);
  }

  function getRealisticMaxPercent(name) {
    const otherLocked = names.filter(n => lockedParticipants[n] && n !== name);
    const willBeUnlocked = names.filter(n => !lockedParticipants[n] && n !== name);

    const otherLockedSum = otherLocked.reduce(
      (s, nm) => s + (probabilities[nm] || 0),
      0
    );

    const minUnlockedTotal = willBeUnlocked.length * 0.05;

    const rawMax = (1 - otherLockedSum - minUnlockedTotal) * 100;

    const rounded = Math.round(rawMax * 10) / 10;

    return Math.max(5, Math.min(100, rounded));
  }

  function normalizeProbabilities() {
    if (!hasCustomProbabilities) {
      const exact = 1 / (names.length || 1);
      names.forEach((nm) => probabilities[nm] = exact);
      return;
    }

    const locked = names.filter(n => lockedParticipants[n]);
    const unlocked = names.filter(n => !lockedParticipants[n]);

    if (unlocked.length === 0) {
      const sum = names.reduce((s, nm) => s + (probabilities[nm] || 0), 0);
      if (sum > 0 && Math.abs(sum - 1) > 1e-4) {
        const k = 1 / sum;
        names.forEach((nm) => probabilities[nm] = (probabilities[nm] || 0) * k);
      }

      const hasViolation = names.some(nm => (probabilities[nm] ?? 0) < 0.049);
      if (hasViolation) {
        equalizeProbabilities();
      }
      return;
    }

    const lockedSum = locked.reduce((s, nm) => s + (probabilities[nm] || 0), 0);

    const minUnlockedTotal = unlocked.length * 0.05;
    const remainForUnlocked = 1 - lockedSum;

    const lockedViolation = locked.some(nm => (probabilities[nm] ?? 0) < 0.049);

    if (lockedViolation || remainForUnlocked < minUnlockedTotal - 0.001 || lockedSum > 1.001) {
      equalizeProbabilities();
      return;
    }

    const sharePerUnlocked = remainForUnlocked / unlocked.length;
    unlocked.forEach(nm => probabilities[nm] = sharePerUnlocked);

    const finalViolation = names.some(nm => (probabilities[nm] ?? 0) < 0.049);
    if (finalViolation) {
      equalizeProbabilities();
    }
  }

  function setProbabilityManually(name, percentValue) {
    const maxPossible = getRealisticMaxPercent(name);

    if (isNaN(percentValue) || percentValue < 5 || percentValue > maxPossible + 0.2) {
      showErrorTooltip(`–ú–∏–Ω–∏–º—É–º 5.0%, –º–∞–∫—Å–∏–º—É–º ${maxPossible.toFixed(1)}%`);
      return false;
    }

    hasCustomProbabilities = true;
    lockedParticipants[name] = true;
    probabilities[name] = percentValue / 100;

    normalizeProbabilities();
    saveState();
    resetNewNamePlaceholder();
    renderCards();

    return true;
  }

  function changeProbability(name, delta) {
    const cur = parseFloat(getPercent(name)) || 0;
    const maxPossible = 100 - (names.length - 1) * 5;
    const next = Math.max(5, Math.min(maxPossible, cur + delta));

    if (Math.abs(next - cur) < 0.01) {
      const realisticMax = getRealisticMaxPercent(name);
      if (delta > 0) {
        showErrorTooltip(`–î–æ—Å—Ç–∏–≥–Ω—É—Ç –º–∞–∫—Å–∏–º—É–º: ${realisticMax.toFixed(1)}%`);
      } else {
        showErrorTooltip(`–î–æ—Å—Ç–∏–≥–Ω—É—Ç –º–∏–Ω–∏–º—É–º: 5.0%`);
      }
      return;
    }

    const otherLocked = names.filter(n => lockedParticipants[n] && n !== name);
    const willBeUnlocked = names.filter(n => !lockedParticipants[n] && n !== name);
    const otherLockedSum = otherLocked.reduce((s, nm) => s + (probabilities[nm] || 0), 0);
    const newProbForThis = next / 100;
    const remainForUnlocked = 1 - otherLockedSum - newProbForThis;
    const minUnlockedTotal = willBeUnlocked.length * 0.05;

    if (remainForUnlocked < minUnlockedTotal - 0.001) {
      const realisticMax = getRealisticMaxPercent(name);
      showErrorTooltip(`–ú–∏–Ω–∏–º—É–º 5.0%, –º–∞–∫—Å–∏–º—É–º ${realisticMax.toFixed(1)}%`);
      return;
    }

    setProbabilityManually(name, next);
    renderParticipants();
  }

  function validateProbabilities() {
    if (!names.length) return false;

    let sum = 0;
    for (const n of names) {
      const p = probabilities[n] || 0;
      if (p < MIN_PROBABILITY - 1e-6) {
        showErrorTooltip(
          `–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å ‚Äî ${(MIN_PROBABILITY * 100).toFixed(1)}%`
        );
        return false;
      }
      sum += p;
    }

    if (Math.abs(sum - 1) > 0.001) {
      showErrorTooltip(
        `–°—É–º–º–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å 100% (—Å–µ–π—á–∞—Å ${(sum * 100).toFixed(1)}%)`
      );
      return false;
    }

    clearErrorMessage();
    return true;
  }

  function validateAllNames() {
    let allValid = true;

    const nameInputs = namesList.querySelectorAll('.name-input');
    nameInputs.forEach(input => {
      const value = input.value.trim();
      if (!value || value.length === 0 || value.length > 15) {
        allValid = false;
      }
    });

    if (startBtn) {
      startBtn.disabled = !allValid;
    }

    return allValid;
  }

  function removeParticipant(idx) {
    if (names.length <= 2) {
      showErrorTooltip('–ú–∏–Ω–∏–º—É–º 2 —É—á–∞—Å—Ç–Ω–∏–∫–∞!');
      return;
    }

    const name = names[idx];
    names.splice(idx, 1);
    delete probabilities[name];
    delete lockedParticipants[name];
    delete participantAmounts[name];

    normalizeProbabilities();
    saveState();
    renderParticipants();
    validateProbabilities();
    renderCards();
  }

  function addNewParticipant() {
    const newName = newNameInput.value.trim();

    if (!newName) {
      newNameInput.classList.add('error-state');
      newNameInput.placeholder = '–í–≤–µ–¥–∏—Ç–µ –∏–º—è';
      return;
    }

    if (newName.length > 15) {
      showErrorTooltip('–ú–∞–∫—Å–∏–º—É–º 15 —Å–∏–º–≤–æ–ª–æ–≤ –≤ –∏–º–µ–Ω–∏');
      return;
    }

    if (names.some((n) => n.toLowerCase() === newName.toLowerCase())) {
      showErrorTooltip('–≠—Ç–æ –∏–º—è —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è!');
      return;
    }

    if (names.length >= MAX_PARTICIPANTS) {
      showErrorTooltip(`–ú–∞–∫—Å–∏–º—É–º ${MAX_PARTICIPANTS} —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤!`);
      return;
    }

    names.push(newName);
    probabilities[newName] = 0.05;

    // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å—É–º–º—É –∫—Ä–µ–¥–∏—Ç–∞ –¥–ª—è –Ω–æ–≤–æ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞
    const amounts = [10000, 15000, 20000, 25000, 30000, 35000, 40000, 50000];
    participantAmounts[newName] = amounts[Math.floor(Math.random() * amounts.length)];

    normalizeProbabilities();
    saveState();
    renderParticipants();
    validateProbabilities();
    renderCards();

    newNameInput.value = '';
    resetNewNamePlaceholder();
    clearErrorMessage();
  }

  if (addNameBtn) {
    addNameBtn.addEventListener('click', addNewParticipant);
  }

  if (equalizeBtn) {
    equalizeBtn.addEventListener('click', equalizeProbabilities);
  }

  if (newNameInput) {
    newNameInput.addEventListener('input', () => {
      const v = newNameInput.value.trim();

      if (!v) {
        newNameInput.style.borderColor = 'rgba(255,255,255,0.2)';
        newNameInput.style.background = 'rgba(255,255,255,0.1)';
        newNameInput.classList.remove('error-state');
        clearErrorMessage();
        return;
      }

      const dup = names.some((n) => n.toLowerCase() === v.toLowerCase());
      if (dup || v.length > 15) {
        newNameInput.style.borderColor = '#ef4444';
        newNameInput.style.background = 'rgba(239,68,68,0.1)';
        newNameInput.classList.add('error-state');
      } else {
        newNameInput.style.borderColor = 'rgba(255,255,255,0.2)';
        newNameInput.style.background = 'rgba(255,255,255,0.1)';
        newNameInput.classList.remove('error-state');
        clearErrorMessage();
      }
    });

    newNameInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') {
        addNewParticipant();
      }
    });

    newNameInput.addEventListener('focus', () => {
      resetNewNamePlaceholder();
      newNameInput.style.borderColor = 'rgba(255,255,255,0.5)';
      newNameInput.style.background = 'rgba(255,255,255,0.2)';
      clearErrorMessage();
    });
  }

  function renderParticipants() {
    namesList.innerHTML = '';

    names.forEach((name, idx) => {
      const row = document.createElement('div');
      row.className = 'name-item';

      const input = document.createElement('input');
      input.type = 'text';
      input.className = 'name-input';
      input.value = name;
      input.placeholder = '–ò–º—è —É—á–∞—Å—Ç–Ω–∏–∫–∞';
      input.maxLength = 15;

      input.addEventListener('keydown', (e) => {
        if (
          input.value.length >= 15 &&
          !['Backspace','Delete','ArrowLeft','ArrowRight','Tab','Home','End'].includes(e.key) &&
          !e.ctrlKey && !e.metaKey
        ) {
          showErrorTooltip('–ù–µ –±–æ–ª–µ–µ 15 —Å–∏–º–≤–æ–ª–æ–≤');
          input.style.borderColor = '#ef4444';
          input.style.background = 'rgba(239,68,68,0.1)';
          setTimeout(() => {
            if (input.value.trim() && !names.some((n, i) => i !== idx && n.toLowerCase() === input.value.trim().toLowerCase())) {
              input.style.borderColor = 'rgba(255,255,255,0.2)';
              input.style.background = 'rgba(255,255,255,0.1)';
            }
          }, 1500);
        }
      });

      input.addEventListener('input', () => {
        const v = input.value.trim();

        if (!v) {
          input.classList.add('error-state');
          input.style.borderColor = '#ef4444';
          input.style.background = 'rgba(239,68,68,0.1)';
          validateAllNames();
          return;
        }

        const dup = names.some((n, i) => i !== idx && n.toLowerCase() === v.toLowerCase());
        if (dup || v.length > 15) {
          input.classList.add('error-state');
          input.style.borderColor = '#ef4444';
          input.style.background = 'rgba(239,68,68,0.1)';
        } else {
          input.classList.remove('error-state');
          input.style.borderColor = 'rgba(255,255,255,0.2)';
          input.style.background = 'rgba(255,255,255,0.1)';
        }

        validateAllNames();
      });

      input.addEventListener('blur', () => {
        const v = input.value.trim();

        if (!v) {
          input.value = name;
          input.classList.remove('error-state');
          input.style.borderColor = 'rgba(255,255,255,0.2)';
          input.style.background = 'rgba(255,255,255,0.1)';
          input.placeholder = '–ò–º—è —É—á–∞—Å—Ç–Ω–∏–∫–∞';
          validateAllNames();
          return;
        }

        const dup = names.some((n, i) => i !== idx && n.toLowerCase() === v.toLowerCase());
        if (dup || v.length > 15) {
          input.value = names[idx];
          input.classList.remove('error-state');
          input.style.borderColor = 'rgba(255,255,255,0.2)';
          input.style.background = 'rgba(255,255,255,0.1)';
          showErrorTooltip('–ò–º–µ–Ω–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ –∏ –¥–æ 15 —Å–∏–º–≤–æ–ª–æ–≤!');
          validateAllNames();
          return;
        }

        const oldName = names[idx];
        if (v !== oldName) {
          names[idx] = v;

          if (probabilities[oldName] !== undefined) {
            probabilities[v] = probabilities[oldName];
            delete probabilities[oldName];
          }

          if (lockedParticipants[oldName]) {
            lockedParticipants[v] = true;
            delete lockedParticipants[oldName];
          }

          saveState();
        }

        input.classList.remove('error-state');
        input.style.borderColor = 'rgba(255,255,255,0.2)';
        input.style.background = 'rgba(255,255,255,0.1)';
        input.placeholder = '–ò–º—è —É—á–∞—Å—Ç–Ω–∏–∫–∞';
        validateAllNames();
      });

      input.addEventListener('focus', () => {
        input.classList.remove('error-state');
        input.style.borderColor = 'rgba(255,255,255,0.5)';
        input.style.background = 'rgba(255,255,255,0.2)';
        clearErrorMessage();
      });

      const probControls = document.createElement('div');
      probControls.className = 'probability-controls';

      const minusBtn = document.createElement('button');
      minusBtn.className = 'prob-btn';
      minusBtn.textContent = '‚àí';
      minusBtn.onclick = () => {
        if (lockedParticipants[name]) {
          delete lockedParticipants[name];
          hasCustomProbabilities = Object.keys(lockedParticipants).length > 0;
        }
        changeProbability(name, -1);
      };

      const probInput = document.createElement('input');
      probInput.type = 'text';
      probInput.className = 'probability-input';
      probInput.setAttribute('inputmode', 'decimal');
      probInput.setAttribute('aria-label', '–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö');
      probInput.value = getPercent(name);

      if (lockedParticipants[name]) {
        probInput.classList.add('manual');
      }

      let lastValid = probInput.value;

      probInput.addEventListener('focus', () => {
        probInput.value = probInput.value.replace('%', '');
        lastValid = probInput.value;
        clearErrorMessage();
      });

      probInput.addEventListener('input', () => {
        probInput.value = probInput.value.replace(',', '.');
        let val = probInput.value.replace('%', '').trim();

        if (val.includes('.')) {
          const parts = val.split('.');
          if (parts[1] && parts[1].length > 2) {
            val = parts[0] + '.' + parts[1].substring(0, 2);
            probInput.value = val;
          }
        }

        const num = parseFloat(val);
        const maxAllowed = getRealisticMaxPercent(name);

        if (val === '') {
          probInput.classList.remove('error');
        } else if (isNaN(num) || num < 5 || num > 100 || num > maxAllowed) {
          probInput.classList.add('error');
        } else {
          probInput.classList.remove('error');
        }
      });

      probInput.addEventListener('blur', () => {
        const val = probInput.value.replace('%', '').trim();
        const num = parseFloat(val);
        const maxAllowed = getRealisticMaxPercent(name);

        if (val === '' || isNaN(num) || num < 5 || num > maxAllowed) {
          probInput.value = lastValid;
          probInput.classList.remove('error');

          if (!isNaN(num) && (num < 5 || num > maxAllowed)) {
            showErrorTooltip(`–ú–∏–Ω–∏–º—É–º 5.0%, –º–∞–∫—Å–∏–º—É–º ${maxAllowed.toFixed(1)}%`);
          }
        } else {
          const otherLocked = names.filter(n => lockedParticipants[n] && n !== name);
          const willBeUnlocked = names.filter(n => !lockedParticipants[n] && n !== name);
          const otherLockedSum = otherLocked.reduce((s, nm) => s + (probabilities[nm] || 0), 0);
          const newProbForThis = num / 100;
          const remainForUnlocked = 1 - otherLockedSum - newProbForThis;
          const minUnlockedTotal = willBeUnlocked.length * 0.05;

          if (remainForUnlocked < minUnlockedTotal - 0.001) {
            probInput.value = lastValid;
            probInput.classList.remove('error');

            const realisticMax = getRealisticMaxPercent(name);
            showErrorTooltip(`–ú–∏–Ω–∏–º—É–º 5.0%, –º–∞–∫—Å–∏–º—É–º ${realisticMax.toFixed(1)}%`);
          } else if (setProbabilityManually(name, num)) {
            lastValid = getPercent(name);
            renderParticipants();
          } else {
            probInput.value = lastValid;
            probInput.classList.remove('error');
          }
        }
      });

      probInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') {
          e.preventDefault();
          probInput.blur();
        }
        if (!/[\d.,]/.test(e.key) && e.key !== 'Enter') e.preventDefault();
      });

      const plusBtn = document.createElement('button');
      plusBtn.className = 'prob-btn';
      plusBtn.textContent = '+';
      plusBtn.onclick = () => {
        if (lockedParticipants[name]) {
          delete lockedParticipants[name];
          hasCustomProbabilities = Object.keys(lockedParticipants).length > 0;
        }
        changeProbability(name, 1);
      };

      probControls.appendChild(minusBtn);
      probControls.appendChild(probInput);
      probControls.appendChild(plusBtn);

      const removeBtn = document.createElement('button');
      removeBtn.className = 'remove-btn';
      removeBtn.textContent = '‚úï';
      removeBtn.onclick = () => removeParticipant(idx);

      row.appendChild(input);
      row.appendChild(probControls);
      row.appendChild(removeBtn);

      namesList.appendChild(row);
    });

    validateAllNames();
  }

  // ===== DESKTOP MENU =====
  const desktopMenuToggle = document.getElementById('desktopMenuToggle');
  const desktopDropdown = document.getElementById('desktopDropdown');

  let desktopMenuOpen = false;

  function toggleDesktopMenu() {
    desktopMenuOpen = !desktopMenuOpen;
    desktopDropdown.classList.toggle('active', desktopMenuOpen);
    desktopMenuToggle.classList.toggle('active', desktopMenuOpen);
  }

  if (desktopMenuToggle) {
    desktopMenuToggle.addEventListener('click', (e) => {
      e.stopPropagation();
      toggleDesktopMenu();
    });

    document.addEventListener('click', (e) => {
      if (
        desktopMenuOpen &&
        !desktopDropdown.contains(e.target) &&
        !desktopMenuToggle.contains(e.target)
      ) {
        toggleDesktopMenu();
      }
    });
  }

  // ===== BURGER MENU (MOBILE) =====
  const burgerBtn = document.getElementById('burgerBtn');
  const menuDropdown = document.getElementById('menuDropdown');
  let menuOpen = false;

  function toggleMenu() {
    menuOpen = !menuOpen;
    menuDropdown.classList.toggle('active', menuOpen);
    burgerBtn.classList.toggle('active', menuOpen);
  }

  if (burgerBtn) {
    burgerBtn.addEventListener('click', (e) => {
      e.stopPropagation();
      toggleMenu();
    });

    document.addEventListener('click', (e) => {
      if (
        menuOpen &&
        !menuDropdown.contains(e.target) &&
        !burgerBtn.contains(e.target)
      ) {
        toggleMenu();
      }
    });
  }

  // ===== –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò –î–õ–Ø –†–ê–ë–û–¢–´ –° –£–ß–ê–°–¢–ù–ò–ö–ê–ú–ò =====

  // –ü–æ–ª—É—á–∏—Ç—å –º–∞—Å—Å–∏–≤ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Å –∏—Ö –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—è–º–∏
  function getParticipantsData() {
    return names.map(name => ({
      name: name,
      probability: probabilities[name] || 0,
      isLocked: !!lockedParticipants[name]
    }));
  }

  // –í—ã–±—Ä–∞—Ç—å —Å–ª—É—á–∞–π–Ω–æ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞ –ø–æ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—è–º
  function selectRandomParticipant() {
    const rand = Math.random();
    let cumulative = 0;

    for (const name of names) {
      cumulative += probabilities[name] || 0;
      if (rand <= cumulative) {
        return name;
      }
    }

    return names[names.length - 1];
  }

  // –ü–æ–ª—É—á–∏—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–∞ –ø–æ –∏–Ω–¥–µ–∫—Å—É
  function getParticipantByIndex(index) {
    if (index >= 0 && index < names.length) {
      return {
        name: names[index],
        probability: probabilities[names[index]] || 0,
        isLocked: !!lockedParticipants[names[index]]
      };
    }
    return null;
  }

  // ===== –†–ï–ù–î–ï–† –ö–ê–†–¢–û–ß–ï–ö =====
  function renderCards() {
    const cardsGrid = document.getElementById('cardsGrid');
    if (!cardsGrid) return;

    cardsGrid.innerHTML = '';

    // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∫–æ–ª–æ–Ω–æ–∫ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
    cardsGrid.classList.remove('four-columns', 'five-columns', 'medium-group', 'large-group');
    if (names.length > 16) {
      cardsGrid.classList.add('five-columns');
    } else if (names.length > 12) {
      cardsGrid.classList.add('four-columns', 'large-group');
    } else if (names.length > 9) {
      cardsGrid.classList.add('four-columns', 'medium-group');
    }

    const emojis = ['üí∞', 'üíµ', 'üí∏', 'ü§ë', 'üí≥', 'üè¶'];
    const amounts = [10000, 15000, 20000, 25000, 30000, 35000, 40000, 50000];

    names.forEach((name, idx) => {
      // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å—É–º–º—É –∫—Ä–µ–¥–∏—Ç–∞ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ—â–µ –Ω–µ—Ç
      if (!participantAmounts[name]) {
        participantAmounts[name] = amounts[Math.floor(Math.random() * amounts.length)];
        saveState();
      }

      const card = document.createElement('div');
      card.className = 'bank-card';
      card.dataset.index = idx;
      card.dataset.name = name;

      const header = document.createElement('div');
      header.className = 'card-header';
      header.textContent = '–ó–ê–Ø–í–ö–ê –ù–ê –ö–†–ï–î–ò–¢';

      const participantName = document.createElement('div');
      participantName.className = 'participant-name';
      participantName.textContent = name;

      const emoji = document.createElement('div');
      emoji.className = 'card-emoji';
      emoji.textContent = emojis[idx % emojis.length];

      const amount = document.createElement('div');
      amount.className = 'card-amount';
      // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—É—é —Å—É–º–º—É –∫—Ä–µ–¥–∏—Ç–∞
      amount.textContent = `${participantAmounts[name].toLocaleString()} –ø–µ—Å–æ`;

      const rejectionReasons = [
        '–í–´–°–û–ö–ò–ô –†–ò–°–ö',
        '–û–¢–ö–ê–ó–ê–ù–û',
        '–ù–ï–¢ –°–†–ï–î–°–¢–í',
        '–û–¢–ö–õ–û–ù–ï–ù–û',
        '–ù–ï –ü–û–î–•–û–î–ò–¢',
        '–ù–ò–ó–ö–ò–ô –†–ï–ô–¢–ò–ù–ì',
        '–ë–ï–ó –ì–ê–†–ê–ù–¢–ò–ô',
        '–ì–î–ï –°–ü–†–ê–í–ö–ê?',
        '–ü–õ–û–•–ê–Ø –ò–°–¢–û–†–ò–Ø',
        '–¢–ï–ë–ï –•–í–ê–¢–ò–¢',
        '–ü–û–ü–†–û–ë–£–ô –ü–û–ó–ñ–ï',
        '–ë–ê–ù–ö–†–û–¢',
        '–ù–£–õ–ï–í–û–ô –°–ö–û–†',
        '–ü–†–û–°–†–û–ß–ö–ò'
      ];

      const stampRejected = document.createElement('div');
      stampRejected.className = 'stamp rejected';
      stampRejected.textContent = rejectionReasons[Math.floor(Math.random() * rejectionReasons.length)];

      const stampApproved = document.createElement('div');
      stampApproved.className = 'stamp approved';
      stampApproved.textContent = '–û–î–û–ë–†–ï–ù–û';

      card.appendChild(header);
      card.appendChild(participantName);
      card.appendChild(emoji);
      card.appendChild(amount);
      card.appendChild(stampRejected);
      card.appendChild(stampApproved);

      cardsGrid.appendChild(card);
    });
  }

  // ===== –ö–û–ù–§–ï–¢–¢–ò =====
  function createConfetti(x, y) {
    const colors = ['#FFD700', '#FFA500', '#FF6347', '#32CD32', '#00CED1'];

    for (let i = 0; i < 50; i++) {
      const confetti = document.createElement('div');
      confetti.className = 'confetti';
      confetti.style.left = x + 'px';
      confetti.style.top = y + 'px';
      confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
      confetti.style.transform = `translate(${(Math.random() - 0.5) * 200}px, ${(Math.random() - 0.5) * 200}px) rotate(${Math.random() * 360}deg)`;

      gameField.appendChild(confetti);

      setTimeout(() => confetti.remove(), 3000);
    }
  }

  // ===== –ò–ì–†–û–í–ê–Ø –õ–û–ì–ò–ö–ê –ö–†–ï–î–ò–¢–ù–û–ô –†–£–õ–ï–¢–ö–ò =====
  async function startCreditRoulette() {
    if (!validateProbabilities()) return;

    // –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É
    startBtn.disabled = true;
    startBtn.textContent = '–û–±—Ä–∞–±–æ—Ç–∫–∞...';

    // –î–∏–∑–µ–π–±–ª–∏–º –≤—Å–µ –∏–Ω–ø—É—Ç—ã —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∏ –∫–Ω–æ–ø–∫–∏
    const allNameInputs = document.querySelectorAll('.name-input');
    const allProbInputs = document.querySelectorAll('.probability-input');
    const allButtons = document.querySelectorAll('.prob-btn, .remove-btn, .add-btn-small, .equalize-btn');

    allNameInputs.forEach(input => input.disabled = true);
    allProbInputs.forEach(input => input.disabled = true);
    allButtons.forEach(btn => btn.disabled = true);

    // –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–±–µ–¥–∏—Ç–µ–ª—è –∏ overlay –µ—Å–ª–∏ –µ—Å—Ç—å
    const oldMessage = document.querySelector('.winner-message');
    const oldOverlay = document.querySelector('.winner-message-overlay');
    if (oldMessage) oldMessage.remove();
    if (oldOverlay) oldOverlay.remove();

    // –†–µ–Ω–¥–µ—Ä–∏–º –∫–∞—Ä—Ç–æ—á–∫–∏
    renderCards();

    const cards = Array.from(document.querySelectorAll('.bank-card'));

    // –í—ã–±–∏—Ä–∞–µ–º –ø–æ–±–µ–¥–∏—Ç–µ–ª—è –ø–æ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—è–º
    const winnerName = selectRandomParticipant();
    const winnerCard = cards.find(card => card.dataset.name === winnerName);

    // –§–∞–∑–∞ 1: –í—Å–µ –∫–∞—Ä—Ç–æ—á–∫–∏ —Ç—Ä—è—Å—É—Ç—Å—è
    cards.forEach(card => card.classList.add('shaking'));
    await sleep(1000);

    // –§–∞–∑–∞ 2: –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –æ—Ç—Å–µ–∏–≤–∞–µ–º –ø—Ä–æ–∏–≥—Ä–∞–≤—à–∏—Ö
    const losers = cards.filter(card => card !== winnerCard);

    // –ü–µ—Ä–µ–º–µ—à–∏–≤–∞–µ–º –ø—Ä–æ–∏–≥—Ä–∞–≤—à–∏—Ö –¥–ª—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ –ø–æ—Ä—è–¥–∫–∞ –æ—Ç—Å–µ–∏–≤–∞–Ω–∏—è
    shuffle(losers);

    // –ë—ã—Å—Ç—Ä–æ–µ –æ—Ç—Å–µ–∏–≤–∞–Ω–∏–µ —Å —É—Å–∫–æ—Ä–µ–Ω–∏–µ–º
    for (let i = 0; i < losers.length; i++) {
      const card = losers[i];

      // –û—Å–æ–±–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è –ø—Ä–µ–¥–ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ (–∫–æ–≥–¥–∞ –æ—Å—Ç–∞–µ—Ç—Å—è 2 –∫–∞—Ä—Ç–æ—á–∫–∏)
      if (i === losers.length - 1) {
        // –§–ò–ù–ê–õ: –û—Å—Ç–∞–ª–∏—Å—å 2 –∫–∞—Ä—Ç–æ—á–∫–∏
        await sleep(800); // –î–ª–∏–Ω–Ω–∞—è –ø–∞—É–∑–∞ –ø–µ—Ä–µ–¥ —Ñ–∏–Ω–∞–ª–æ–º

        // –û–±–µ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏ —Ç—Ä—è—Å—É—Ç—Å—è —Å–∏–ª—å–Ω–µ–µ
        card.classList.remove('shaking');
        winnerCard.classList.remove('shaking');

        await sleep(200);

        card.classList.add('shaking');
        winnerCard.classList.add('shaking');

        await sleep(1500); // –î—Ä–∞–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–∞—É–∑–∞

        // –û—Ç—Å–µ–∏–≤–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –ø—Ä–æ–∏–≥—Ä–∞–≤—à–µ–≥–æ
        card.classList.remove('shaking');
        card.classList.add('rejected');

        await sleep(500);
      } else {
        // –û–±—ã—á–Ω–æ–µ –æ—Ç—Å–µ–∏–≤–∞–Ω–∏–µ
        card.classList.remove('shaking');
        card.classList.add('rejected');

        let delay;
        if (i < losers.length - 2) {
          delay = 150; // –ë—ã—Å—Ç—Ä–æ —É–±–∏—Ä–∞–µ–º –ø–µ—Ä–≤—ã—Ö
        } else {
          delay = 500; // –ó–∞–º–µ–¥–ª—è–µ–º –ø–µ—Ä–µ–¥ —Ñ–∏–Ω–∞–ª–æ–º
        }

        await sleep(delay);
      }
    }

    // –£–±–∏—Ä–∞–µ–º —Ç—Ä—è—Å–∫—É —É –ø–æ–±–µ–¥–∏—Ç–µ–ª—è
    if (winnerCard) {
      winnerCard.classList.remove('shaking');
      await sleep(400);

      // –§–∞–∑–∞ 3: –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–±–µ–¥–∏—Ç–µ–ª—è
      winnerCard.classList.add('winner');

      // –°–æ–∑–¥–∞–µ–º –∫–æ–Ω—Ñ–µ—Ç—Ç–∏
      const rect = winnerCard.getBoundingClientRect();
      createConfetti(rect.left + rect.width / 2, rect.top + rect.height / 2);

      // –ë–ª–æ–∫–∏—Ä—É–µ–º —Å–∫—Ä–æ–ª–ª body
      document.body.classList.add('showing-winner');

      // –°–æ–∑–¥–∞—ë–º overlay
      const overlay = document.createElement('div');
      overlay.className = 'winner-message-overlay';
      document.body.appendChild(overlay);

      // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
      const message = document.createElement('div');
      message.className = 'winner-message';
      const winnerAmount = participantAmounts[winnerName] || 50000;
      message.innerHTML = `
        <div style="font-size: 20px; margin-bottom: 10px; opacity: 0.9;">–ö–†–ï–î–ò–¢ –û–î–û–ë–†–ï–ù!</div>
        <div style="font-size: 36px; margin: 15px 0; color: #fcd34d;">${winnerName}</div>
        <div style="font-size: 18px; margin-top: 10px; opacity: 0.95;">–í–∞—à–∞ –∑–∞—è–≤–∫–∞ —É—Å–ø–µ—à–Ω–æ –æ–¥–æ–±—Ä–µ–Ω–∞</div>
        <div style="font-size: 16px; margin-top: 15px; padding: 12px 24px; background: rgba(0,0,0,0.3); border-radius: 12px; display: inline-block;">
          –î–æ—Å—Ç—É–ø–Ω–∞—è —Å—É–º–º–∞: <strong style="color: #fcd34d;">${winnerAmount.toLocaleString()} –ø–µ—Å–æ</strong>
        </div>
      `;
      document.body.appendChild(message);

      // –£–¥–∞–ª—è–µ–º overlay –∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏ –∫–ª–∏–∫–µ
      const removeMessage = () => {
        overlay.style.animation = 'overlayAppear 0.3s ease reverse';
        message.style.animation = 'winnerMessageAppear 0.4s ease reverse';
        setTimeout(() => {
          overlay.remove();
          message.remove();
          document.body.classList.remove('showing-winner');
        }, 400);
      };

      overlay.addEventListener('click', removeMessage);
      setTimeout(removeMessage, 5000); // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–±–∏—Ä–∞–µ–º —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
    }

    // –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É –∏ –≤—Å–µ –∏–Ω–ø—É—Ç—ã
    setTimeout(() => {
      startBtn.disabled = false;
      startBtn.textContent = '–ó–∞–ø—Ä–æ—Å–∏—Ç—å –∫—Ä–µ–¥–∏—Ç';

      // –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º –≤—Å–µ –∏–Ω–ø—É—Ç—ã –∏ –∫–Ω–æ–ø–∫–∏
      const allNameInputs = document.querySelectorAll('.name-input');
      const allProbInputs = document.querySelectorAll('.probability-input');
      const allButtons = document.querySelectorAll('.prob-btn, .remove-btn, .add-btn-small, .equalize-btn');

      allNameInputs.forEach(input => input.disabled = false);
      allProbInputs.forEach(input => input.disabled = false);
      allButtons.forEach(btn => btn.disabled = false);
    }, 3000);
  }

  // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
  function sleep(ms) {
    return new Promise(resolve => setTimeout(resolve, ms));
  }

  function shuffle(array) {
    for (let i = array.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
  }

  // ===== –û–ë–†–ê–ë–û–¢–ß–ò–ö –ö–ù–û–ü–ö–ò "–ó–ê–ü–£–°–¢–ò–¢–¨" =====
  if (startBtn) {
    startBtn.addEventListener('click', startCreditRoulette);
  }

  // ===== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø =====
  loadState();
  renderParticipants();
  validateProbabilities();
  renderCards();
</script>

</body>
</html>